{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\components\\file-download\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\components\\file-download\\index.vue","mtime":1706623138788},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\babel.config.js","mtime":1706609443763},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvKiog5paH5Lu26ZO+5o6lICovCiAgICB1cmw6IFN0cmluZywKICAgIC8qKiDnp4HmnInnmoQgKi8KICAgIHByaXZhdGU6IEJvb2xlYW4sCiAgICAvKiog5paH5Lu25ZCN56ewICovCiAgICBmaWxlTmFtZTogU3RyaW5nLAogICAgLyoqIOWwuuWvuO+8jOm7mOiupOaMieeFp+ahhuaetueahOWtl+WPt+iuvue9riAqLwogICAgc2l6ZTogU3RyaW5nLAogICAgLyoqIOexu+WeiyBwcmltYXJ5L3N1Y2Nlc3Mvd2FybmluZy9kYW5nZXIvaW5mby90ZXh0ICovCiAgICB0eXBlOiBTdHJpbmcsCiAgICAvKiog5piv5ZCm5py057Sg5oyJ6ZKuICovCiAgICBwbGFpbjogQm9vbGVhbiwKICAgIC8qKiDmmK/lkKblnIbop5LmjInpkq4gKi8KICAgIHJvdW5kOiBCb29sZWFuLAogICAgLyoqIOaYr+WQpuWchuW9ouaMiemSriAqLwogICAgY2lyY2xlOiBCb29sZWFuLAogICAgLyoqIOaYr+WQpuWKoOi9veS4reeKtuaAgSAqLwogICAgbG9hZGluZzogQm9vbGVhbiwKICAgIC8qKiDmmK/lkKbnpoHnlKjnirbmgIEgKi8KICAgIGRpc2FibGVkOiBCb29sZWFuLAogICAgLyoqIOaYr+WQpum7mOiupOiBmueEpiAqLwogICAgYXV0b2ZvY3VzOiBCb29sZWFuLAogICAgLyoqIOWOn+eUnyB0eXBlIOWxnuaApyBidXR0b24vc3VibWl0L3Jlc2V0ICovCiAgICBuYXRpdmVUeXBlOiBTdHJpbmcsCiAgICAvKiog5Zu+5qCHICovCiAgICBpY29uOiBTdHJpbmcsCiAgICAvLyDmlofmnKwKICAgIHRleHQ6IFN0cmluZywKICAgIC8vIOaMiemSrue8luegge+8jOeUqOS6juaMiemSruadg+mZkOaOp+WItgogICAgY29kZTogU3RyaW5nCiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICBpZiAodGhpcy51cmwpIHsKICAgICAgICBpZiAodGhpcy5wcml2YXRlKSB7CiAgICAgICAgICAkYXBpLmFkbWluLmZpbGUuZG93bmxvYWQodGhpcy51cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL+mAmui/h+aooeaLn2HmoIfnrb7ngrnlh7vkuovku7bkuIvovb3mlofku7YKICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgbGluay5ocmVmID0gdGhpcy51cmw7CiAgICAgICAgICB2YXIgZmlsZU5hbWUgPSB0aGlzLmZpbGVOYW1lOwogICAgICAgICAgaWYgKCFmaWxlTmFtZSkgewogICAgICAgICAgICB2YXIgYXJyID0gdGhpcy51cmwuc3BsaXQoJy8nKTsKICAgICAgICAgICAgZmlsZU5hbWUgPSBhcnJbYXJyLmxlbmd0aCAtIDFdOwogICAgICAgICAgfQogICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZU5hbWUpOwogICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdjbGljaycpOwogICAgfQogIH0KfTs="},{"version":3,"names":["props","url","String","private","Boolean","fileName","size","type","plain","round","circle","loading","disabled","autofocus","nativeType","icon","text","code","methods","onClick","$api","admin","file","download","link","document","createElement","href","arr","split","length","setAttribute","body","appendChild","click","removeChild","$emit"],"sources":["node_modules/netmodular-module-admin/src/components/file-download/index.vue"],"sourcesContent":["<template>\r\n  <el-button\r\n    class=\"nm-button nm-file-download\"\r\n    :type=\"type\"\r\n    :size=\"size || fontSize\"\r\n    :plain=\"plain\"\r\n    :round=\"round\"\r\n    :circle=\"circle\"\r\n    :loading=\"loading\"\r\n    :disabled=\"disabled\"\r\n    :autofocus=\"autofocus\"\r\n    :native-type=\"nativeType\"\r\n    v-nm-has=\"code\"\r\n    @click=\"onClick\"\r\n  >\r\n    <nm-icon v-if=\"!loading && icon\" :name=\"icon\" />\r\n    <slot>\r\n      <span v-if=\"!circle && text\" class=\"nm-button-text\" v-html=\"text\" />\r\n    </slot>\r\n  </el-button>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    /** 文件链接 */\r\n    url: String,\r\n    /** 私有的 */\r\n    private: Boolean,\r\n    /** 文件名称 */\r\n    fileName: String,\r\n    /** 尺寸，默认按照框架的字号设置 */\r\n    size: String,\r\n    /** 类型 primary/success/warning/danger/info/text */\r\n    type: String,\r\n    /** 是否朴素按钮 */\r\n    plain: Boolean,\r\n    /** 是否圆角按钮 */\r\n    round: Boolean,\r\n    /** 是否圆形按钮 */\r\n    circle: Boolean,\r\n    /** 是否加载中状态 */\r\n    loading: Boolean,\r\n    /** 是否禁用状态 */\r\n    disabled: Boolean,\r\n    /** 是否默认聚焦 */\r\n    autofocus: Boolean,\r\n    /** 原生 type 属性 button/submit/reset */\r\n    nativeType: String,\r\n    /** 图标 */\r\n    icon: String,\r\n    // 文本\r\n    text: String,\r\n    // 按钮编码，用于按钮权限控制\r\n    code: String\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      if (this.url) {\r\n        if (this.private) {\r\n          $api.admin.file.download(this.url)\r\n        } else {\r\n          //通过模拟a标签点击事件下载文件\r\n          const link = document.createElement('a')\r\n          link.href = this.url\r\n          let fileName = this.fileName\r\n          if (!fileName) {\r\n            let arr = this.url.split('/')\r\n            fileName = arr[arr.length - 1]\r\n          }\r\n          link.setAttribute('download', fileName)\r\n          link.setAttribute('target', '_blank')\r\n          document.body.appendChild(link)\r\n          link.click()\r\n          document.body.removeChild(link)\r\n        }\r\n      }\r\n      this.$emit('click')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAsBA;EACAA,KAAA;IACA;IACAC,GAAA,EAAAC,MAAA;IACA;IACAC,OAAA,EAAAC,OAAA;IACA;IACAC,QAAA,EAAAH,MAAA;IACA;IACAI,IAAA,EAAAJ,MAAA;IACA;IACAK,IAAA,EAAAL,MAAA;IACA;IACAM,KAAA,EAAAJ,OAAA;IACA;IACAK,KAAA,EAAAL,OAAA;IACA;IACAM,MAAA,EAAAN,OAAA;IACA;IACAO,OAAA,EAAAP,OAAA;IACA;IACAQ,QAAA,EAAAR,OAAA;IACA;IACAS,SAAA,EAAAT,OAAA;IACA;IACAU,UAAA,EAAAZ,MAAA;IACA;IACAa,IAAA,EAAAb,MAAA;IACA;IACAc,IAAA,EAAAd,MAAA;IACA;IACAe,IAAA,EAAAf;EACA;EACAgB,OAAA;IACAC,OAAA,WAAAA,QAAA;MACA,SAAAlB,GAAA;QACA,SAAAE,OAAA;UACAiB,IAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,QAAA,MAAAtB,GAAA;QACA;UACA;UACA,IAAAuB,IAAA,GAAAC,QAAA,CAAAC,aAAA;UACAF,IAAA,CAAAG,IAAA,QAAA1B,GAAA;UACA,IAAAI,QAAA,QAAAA,QAAA;UACA,KAAAA,QAAA;YACA,IAAAuB,GAAA,QAAA3B,GAAA,CAAA4B,KAAA;YACAxB,QAAA,GAAAuB,GAAA,CAAAA,GAAA,CAAAE,MAAA;UACA;UACAN,IAAA,CAAAO,YAAA,aAAA1B,QAAA;UACAmB,IAAA,CAAAO,YAAA;UACAN,QAAA,CAAAO,IAAA,CAAAC,WAAA,CAAAT,IAAA;UACAA,IAAA,CAAAU,KAAA;UACAT,QAAA,CAAAO,IAAA,CAAAG,WAAA,CAAAX,IAAA;QACA;MACA;MACA,KAAAY,KAAA;IACA;EACA;AACA"}]}