{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\views\\account\\index\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\views\\account\\index\\index.vue","mtime":1706623138794},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\babel.config.js","mtime":1706609443763},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgInN0cmluZyIpOyByZXR1cm4gInN5bWJvbCIgPT0gX3R5cGVvZihpKSA/IGkgOiBTdHJpbmcoaSk7IH0KZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8ICJkZWZhdWx0Iik7IGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKCJzdHJpbmciID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBtaXhpbnMgfSBmcm9tICduZXRtb2R1bGFyLXVpJzsKaW1wb3J0IHBhZ2UgZnJvbSAnLi9wYWdlJzsKaW1wb3J0IGNvbHMgZnJvbSAnLi9jb2xzJzsKaW1wb3J0IFNhdmVQYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvc2F2ZSc7CgovLyDmjqXlj6MKdmFyIGFwaSA9ICRhcGkuYWRtaW4uYWNjb3VudDsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IHBhZ2UubmFtZSwKICBtaXhpbnM6IFttaXhpbnMubGlzdF0sCiAgY29tcG9uZW50czogewogICAgU2F2ZVBhZ2U6IFNhdmVQYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogewogICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLAogICAgICAgIGNvbHM6IGNvbHMsCiAgICAgICAgYWN0aW9uOiBhcGkucXVlcnksCiAgICAgICAgb3BlcmF0aW9uV2lkdGg6ICcyNzAnLAogICAgICAgIGFkdmFuY2VkOiB7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgd2lkdGg6ICc0MDBweCcKICAgICAgICB9LAogICAgICAgIG1vZGVsOiB7CiAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHBob25lOiAnJywKICAgICAgICAgIGVtYWlsOiAnJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVtb3ZlQWN0aW9uOiBhcGkucmVtb3ZlLAogICAgICBidXR0b25zOiBwYWdlLmJ1dHRvbnMKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ2FwcC9hY2NvdW50JywgewogICAgYWNjb3VudElkOiAnaWQnCiAgfSkpLAogIG1ldGhvZHM6IHsKICAgIHJlc2V0UGFzc3dvcmQ6IGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQocm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuX2NvbmZpcm0oIlx1NjBBOFx1Nzg2RVx1NUI5QVx1ODk4MVx1OTFDRFx1N0Y2RVx1OEQyNlx1NjIzNygiLmNvbmNhdChyb3cubmFtZSwgIilcdTc2ODRcdTVCQzZcdTc4MDFcdTU0MTdcdUZGMUYiKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgYXBpLnJlc2V0UGFzc3dvcmQocm93LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLl9zdWNjZXNzKCflt7Lph43nva4nKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWN0aXZlOiBmdW5jdGlvbiBhY3RpdmUocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLl9jb25maXJtKCJcdTYwQThcdTc4NkVcdTVCOUFcdTg5ODFcdTZGQzBcdTZEM0JcdThEMjZcdTYyMzcoIi5jb25jYXQocm93Lm5hbWUsICIpXHU1NDE3XHVGRjFGIikpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGFwaS5hY3RpdmUocm93LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5fc3VjY2Vzcygn5bey5r+A5rS7Jyk7CiAgICAgICAgICByb3cuc3RhdHVzID0gMTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","mixins","page","cols","SavePage","api","$api","admin","account","name","list","components","data","title","action","query","operationWidth","advanced","enabled","width","model","userName","phone","email","removeAction","remove","buttons","computed","_objectSpread","accountId","methods","resetPassword","row","_this","_confirm","concat","then","id","_success","active","_this2","status"],"sources":["node_modules/netmodular-module-admin/src/views/account/index/index.vue"],"sourcesContent":["<template>\r\n  <nm-container>\r\n    <nm-list ref=\"list\" v-bind=\"list\">\r\n      <!--查询条件-->\r\n      <template v-slot:querybar>\r\n        <el-form-item label=\"用户名：\" prop=\"userName\">\r\n          <el-input v-model=\"list.model.userName\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"名称：\" prop=\"name\">\r\n          <el-input v-model=\"list.model.name\" clearable />\r\n        </el-form-item>\r\n      </template>\r\n\r\n      <!--高级查询-->\r\n      <template v-slot:querybar-advanced>\r\n        <el-row>\r\n          <el-col :span=\"20\" :offset=\"1\">\r\n            <el-form-item label=\"手机号：\" prop=\"phone\">\r\n              <el-input v-model=\"list.model.phone\" clearable />\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱：\" prop=\"email\">\r\n              <el-input v-model=\"list.model.name\" clearable />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </template>\r\n\r\n      <!--按钮-->\r\n      <template v-slot:querybar-buttons=\"{ total }\">\r\n        <nm-button v-bind=\"buttons.add\" @click=\"add(total)\" />\r\n      </template>\r\n\r\n      <!--角色-->\r\n      <template v-slot:col-roles=\"{ row }\">\r\n        <template v-if=\"row.roles && row.roles.length > 0\">\r\n          <template v-for=\"(role, index) in row.roles\">\r\n            <el-tag :key=\"role.value\" :text=\"role.label\">{{ role.label }}</el-tag>\r\n            <template v-if=\"index < row.roles.length - 1\">、</template>\r\n          </template>\r\n        </template>\r\n        <span v-else>未绑定</span>\r\n      </template>\r\n\r\n      <!--状态-->\r\n      <template v-slot:col-status=\"{ row }\">\r\n        <el-tag v-if=\"row.status === 0\" type=\"info\">未激活</el-tag>\r\n        <el-tag v-else-if=\"row.status === 1\" type=\"success\">正常</el-tag>\r\n        <el-tag v-else-if=\"row.status === 2\" type=\"warning\">禁用</el-tag>\r\n        <el-tag v-else-if=\"row.status === 3\" type=\"danger\">注销</el-tag>\r\n      </template>\r\n\r\n      <!--登录时间-->\r\n      <template v-slot:col-loginTime=\"{ row }\">{{ row.status === 0 ? '未登录' : row.loginTime }}</template>\r\n      <template v-slot:col-loginIP=\"{ row }\">{{ row.status === 0 ? '未登录' : row.loginIP }}</template>\r\n\r\n      <!--操作列-->\r\n      <template v-slot:col-operation=\"{ row }\">\r\n        <nm-button v-if=\"!row.isLock && row.status === 0\" v-bind=\"buttons.active\" @click=\"active(row)\" />\r\n        <nm-button v-if=\"!row.isLock\" v-bind=\"buttons.edit\" @click=\"edit(row)\" />\r\n        <nm-button v-if=\"!row.isLock\" v-bind=\"buttons.resetPassword\" @click=\"resetPassword(row)\" />\r\n        <nm-button-delete v-if=\"!row.isLock\" v-bind=\"buttons.del\" :disabled=\"row.id === accountId\" :action=\"removeAction\" :id=\"row.id\" @success=\"refresh\" />\r\n        <nm-button v-if=\"row.isLock\" type=\"text\" text=\"锁定\" :disabled=\"true\" />\r\n      </template>\r\n    </nm-list>\r\n\r\n    <!--保存页-->\r\n    <save-page :id=\"curr.id\" :visible.sync=\"dialog.save\" @success=\"refresh\" />\r\n  </nm-container>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { mixins } from 'netmodular-ui'\r\nimport page from './page'\r\nimport cols from './cols'\r\nimport SavePage from '../components/save'\r\n\r\n// 接口\r\nconst api = $api.admin.account\r\n\r\nexport default {\r\n  name: page.name,\r\n  mixins: [mixins.list],\r\n  components: { SavePage },\r\n  data() {\r\n    return {\r\n      list: {\r\n        title: page.title,\r\n        cols,\r\n        action: api.query,\r\n        operationWidth: '270',\r\n        advanced: {\r\n          enabled: true,\r\n          width: '400px'\r\n        },\r\n        model: {\r\n          userName: '',\r\n          name: '',\r\n          phone: '',\r\n          email: ''\r\n        }\r\n      },\r\n      removeAction: api.remove,\r\n      buttons: page.buttons\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('app/account', { accountId: 'id' })\r\n  },\r\n  methods: {\r\n    resetPassword(row) {\r\n      this._confirm(`您确定要重置账户(${row.name})的密码吗？`).then(() => {\r\n        api.resetPassword(row.id).then(() => {\r\n          this._success('已重置')\r\n        })\r\n      })\r\n    },\r\n    active(row) {\r\n      this._confirm(`您确定要激活账户(${row.name})吗？`).then(() => {\r\n        api.active(row.id).then(() => {\r\n          this._success('已激活')\r\n          row.status = 1\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;;;;;AAsEA,SAAAA,QAAA;AACA,SAAAC,MAAA;AACA,OAAAC,IAAA;AACA,OAAAC,IAAA;AACA,OAAAC,QAAA;;AAEA;AACA,IAAAC,GAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,OAAA;AAEA;EACAC,IAAA,EAAAP,IAAA,CAAAO,IAAA;EACAR,MAAA,GAAAA,MAAA,CAAAS,IAAA;EACAC,UAAA;IAAAP,QAAA,EAAAA;EAAA;EACAQ,IAAA,WAAAA,KAAA;IACA;MACAF,IAAA;QACAG,KAAA,EAAAX,IAAA,CAAAW,KAAA;QACAV,IAAA,EAAAA,IAAA;QACAW,MAAA,EAAAT,GAAA,CAAAU,KAAA;QACAC,cAAA;QACAC,QAAA;UACAC,OAAA;UACAC,KAAA;QACA;QACAC,KAAA;UACAC,QAAA;UACAZ,IAAA;UACAa,KAAA;UACAC,KAAA;QACA;MACA;MACAC,YAAA,EAAAnB,GAAA,CAAAoB,MAAA;MACAC,OAAA,EAAAxB,IAAA,CAAAwB;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,KACA5B,QAAA;IAAA6B,SAAA;EAAA,GACA;EACAC,OAAA;IACAC,aAAA,WAAAA,cAAAC,GAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,QAAA,qDAAAC,MAAA,CAAAH,GAAA,CAAAvB,IAAA,sCAAA2B,IAAA;QACA/B,GAAA,CAAA0B,aAAA,CAAAC,GAAA,CAAAK,EAAA,EAAAD,IAAA;UACAH,KAAA,CAAAK,QAAA;QACA;MACA;IACA;IACAC,MAAA,WAAAA,OAAAP,GAAA;MAAA,IAAAQ,MAAA;MACA,KAAAN,QAAA,qDAAAC,MAAA,CAAAH,GAAA,CAAAvB,IAAA,oBAAA2B,IAAA;QACA/B,GAAA,CAAAkC,MAAA,CAAAP,GAAA,CAAAK,EAAA,EAAAD,IAAA;UACAI,MAAA,CAAAF,QAAA;UACAN,GAAA,CAAAS,MAAA;QACA;MACA;IACA;EACA;AACA"}]}