{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\views\\menu\\index\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\views\\menu\\index\\index.vue","mtime":1706623138826},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\babel.config.js","mtime":1706609443763},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHBhZ2UgZnJvbSAnLi9wYWdlJzsKaW1wb3J0IGNvbHMgZnJvbSAnLi9jb2xzLmpzJzsKaW1wb3J0IEFkZFBhZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9hZGQnOwppbXBvcnQgRWRpdFBhZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9lZGl0JzsKaW1wb3J0IE1lbnVUcmVlIGZyb20gJy4uL2NvbXBvbmVudHMvdHJlZSc7CgovLyDmjqXlj6MKdmFyIGFwaSA9ICRhcGkuYWRtaW4ubWVudTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IHBhZ2UubmFtZSwKICBjb21wb25lbnRzOiB7CiAgICBNZW51VHJlZTogTWVudVRyZWUsCiAgICBBZGRQYWdlOiBBZGRQYWdlLAogICAgRWRpdFBhZ2U6IEVkaXRQYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3BsaXQ6IDAuMiwKICAgICAgY3VycjogewogICAgICAgIGlkOiAnJwogICAgICB9LAogICAgICBsaXN0OiB7CiAgICAgICAgY29sczogY29scywKICAgICAgICBhY3Rpb246IGFwaS5xdWVyeSwKICAgICAgICBsYWJlbFdpZHRoOiAnNjBweCcsCiAgICAgICAgbW9kZWw6IHsKICAgICAgICAgIHBhcmVudElkOiAnJywKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY29kZTogJycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbW92ZTogYXBpLnJlbW92ZSwKICAgICAgLy8g5b2T5YmN5pWw6YePCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDlvLnlh7rmoYYKICAgICAgZGlhbG9nOiB7CiAgICAgICAgYWRkOiBmYWxzZSwKICAgICAgICBlZGl0OiBmYWxzZSwKICAgICAgICAvLyDmjpLluo8KICAgICAgICBzb3J0OiBmYWxzZQogICAgICB9LAogICAgICAvLyDlt6bkvqfoj5zljZXmoJHpgInmi6nnmoToj5zljZUKICAgICAgbWVudTogewogICAgICAgIGlkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwYXRoOiAnJwogICAgICB9LAogICAgICBidXR0b25zOiBwYWdlLmJ1dHRvbnMsCiAgICAgIGRyYWdTb3J0OiB7CiAgICAgICAgcXVlcnlBY3Rpb246IHRoaXMucXVlcnlTb3J0TGlzdCwKICAgICAgICB1cGRhdGVBY3Rpb246IGFwaS51cGRhdGVTb3J0TGlzdCwKICAgICAgICBoZWlnaHQ6ICc3MDBweCcKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0aXRsZTogZnVuY3Rpb24gdGl0bGUoKSB7CiAgICAgIHJldHVybiAn6I+c5Y2V5YiX6KGo4oCUJyArIHRoaXMubWVudS5uYW1lOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy5saXN0Lm1vZGVsLnBhcmVudElkID0gdGhpcy5tZW51LmlkOwogICAgICB0aGlzLiRyZWZzLmxpc3QucmVmcmVzaCgpOwogICAgfSwKICAgIG9uVHJlZUNoYW5nZTogZnVuY3Rpb24gb25UcmVlQ2hhbmdlKF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICBsYWJlbCA9IF9yZWYubGFiZWwsCiAgICAgICAgcGF0aCA9IF9yZWYucGF0aCwKICAgICAgICBpdGVtID0gX3JlZi5pdGVtOwogICAgICB0aGlzLm1lbnUuaWQgPSBpZDsKICAgICAgdGhpcy5tZW51Lm5hbWUgPSBsYWJlbDsKICAgICAgLy/mmK/lkKbmmK/oioLngrnoj5zljZUKICAgICAgdGhpcy5tZW51LmlzTm9kZSA9IGl0ZW0udHlwZSA9PT0gMDsKICAgICAgdGhpcy5tZW51LnBhdGggPSBwYXRoLmpvaW4oJyAvICcpOwogICAgICB0aGlzLnJlZnJlc2goKTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCh0b3RhbCkgewogICAgICB0aGlzLnRvdGFsID0gdG90YWw7CiAgICAgIHRoaXMuZGlhbG9nLmFkZCA9IHRydWU7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdGhpcy5jdXJyID0gcm93OwogICAgICB0aGlzLmRpYWxvZy5lZGl0ID0gdHJ1ZTsKICAgIH0sCiAgICBxdWVyeVNvcnRMaXN0OiBmdW5jdGlvbiBxdWVyeVNvcnRMaXN0KCkgewogICAgICByZXR1cm4gYXBpLnF1ZXJ5U29ydExpc3QodGhpcy5tZW51LmlkKTsKICAgIH0sCiAgICBvcGVuU29ydDogZnVuY3Rpb24gb3BlblNvcnQoKSB7CiAgICAgIHRoaXMuZGlhbG9nLnNvcnQgPSB0cnVlOwogICAgfSwKICAgIG9uQWRkOiBmdW5jdGlvbiBvbkFkZChtb2RlbCkgewogICAgICB0aGlzLiRyZWZzLnRyZWUuaW5zZXJ0KG1vZGVsKTsKICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICB9LAogICAgb25EZWxldGU6IGZ1bmN0aW9uIG9uRGVsZXRlKGlkKSB7CiAgICAgIHRoaXMuJHJlZnMudHJlZS5yZW1vdmUoaWQpOwogICAgICB0aGlzLnJlZnJlc2goKTsKICAgIH0sCiAgICBvbkVkaXQ6IGZ1bmN0aW9uIG9uRWRpdChtb2RlbCkgewogICAgICB0aGlzLiRyZWZzLnRyZWUudXBkYXRlKG1vZGVsKTsKICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICB9LAogICAgb25Tb3J0OiBmdW5jdGlvbiBvblNvcnQoZGF0YSkgewogICAgICB0aGlzLiRyZWZzLnRyZWUuc29ydChkYXRhKTsKICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["page","cols","AddPage","EditPage","MenuTree","api","$api","admin","menu","name","components","data","split","curr","id","list","action","query","labelWidth","model","parentId","code","remove","total","dialog","add","edit","sort","path","buttons","dragSort","queryAction","querySortList","updateAction","updateSortList","height","computed","title","methods","refresh","$refs","onTreeChange","_ref","label","item","isNode","type","join","row","openSort","onAdd","tree","insert","onDelete","onEdit","update","onSort"],"sources":["node_modules/netmodular-module-admin/src/views/menu/index/index.vue"],"sourcesContent":["<template>\r\n  <nm-container>\r\n    <nm-split v-model=\"split\">\r\n      <template v-slot:left>\r\n        <menu-tree ref=\"tree\" @change=\"onTreeChange\" />\r\n      </template>\r\n      <template v-slot:right>\r\n        <nm-list ref=\"list\" :title=\"title\" v-bind=\"list\">\r\n          <!--查询条件-->\r\n          <template v-slot:querybar>\r\n            <el-form-item label=\"名称：\" prop=\"name\">\r\n              <el-input v-model=\"list.model.name\" clearable />\r\n            </el-form-item>\r\n            <el-form-item label=\"编码：\" prop=\"code\">\r\n              <el-input v-model=\"list.model.code\" clearable />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <!--按钮-->\r\n          <template v-slot:querybar-buttons=\"{ total }\">\r\n            <nm-button :disabled=\"!menu.isNode\" v-bind=\"buttons.add\" @click=\"add(total)\" />\r\n            <nm-button :disabled=\"!menu.isNode\" v-bind=\"buttons.sort\" @click=\"openSort\" />\r\n          </template>\r\n\r\n          <!--类型-->\r\n          <template v-slot:col-typeName=\"{ row }\">\r\n            <el-tag type=\"success\" v-if=\"row.type === 0\">{{ row.typeName }}</el-tag>\r\n            <el-tag type=\"warning\" v-if=\"row.type === 1\">{{ row.typeName }}</el-tag>\r\n            <el-tag v-if=\"row.type === 2\">{{ row.typeName }}</el-tag>\r\n          </template>\r\n\r\n          <!--图标-->\r\n          <template v-slot:col-icon=\"{ row }\">\r\n            <el-tooltip :content=\"row.icon\" effect=\"dark\" placement=\"right\" v-if=\"row.icon\">\r\n              <label>\r\n                <nm-icon :name=\"row.icon\" size=\"20px\" />\r\n              </label>\r\n            </el-tooltip>\r\n            <label v-else>无</label>\r\n          </template>\r\n\r\n          <!--是否显示-->\r\n          <template v-slot:col-show=\"{ row }\">{{ row.show ? '是' : '否' }}</template>\r\n\r\n          <!--操作列-->\r\n          <template v-slot:col-operation=\"{ row }\">\r\n            <el-dropdown trigger=\"click\">\r\n              <span class=\"el-dropdown-link\">\r\n                操作\r\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n              </span>\r\n              <el-dropdown-menu class=\"nm-list-operation-dropdown\" slot=\"dropdown\">\r\n                <el-dropdown-item>\r\n                  <nm-button v-bind=\"buttons.edit\" @click=\"edit(row)\" />\r\n                </el-dropdown-item>\r\n                <el-dropdown-item>\r\n                  <nm-button-delete v-bind=\"buttons.del\" :action=\"remove\" :id=\"row.id\" @success=\"onDelete(row.id)\" />\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </template>\r\n        </nm-list>\r\n      </template>\r\n    </nm-split>\r\n\r\n    <!--添加菜单-->\r\n    <add-page :parent=\"menu\" :sort=\"total\" :visible.sync=\"dialog.add\" @success=\"onAdd\" />\r\n    <!--编辑菜单-->\r\n    <edit-page :parent=\"menu\" :id=\"curr.id\" :visible.sync=\"dialog.edit\" @success=\"onEdit\" />\r\n    <!--排序-->\r\n    <nm-drag-sort-dialog v-bind=\"dragSort\" :visible.sync=\"dialog.sort\" @success=\"onSort\" />\r\n  </nm-container>\r\n</template>\r\n<script>\r\nimport page from './page'\r\nimport cols from './cols.js'\r\nimport AddPage from '../components/add'\r\nimport EditPage from '../components/edit'\r\nimport MenuTree from '../components/tree'\r\n\r\n// 接口\r\nconst api = $api.admin.menu\r\n\r\nexport default {\r\n  name: page.name,\r\n  components: { MenuTree, AddPage, EditPage },\r\n  data() {\r\n    return {\r\n      split: 0.2,\r\n      curr: { id: '' },\r\n      list: {\r\n        cols,\r\n        action: api.query,\r\n        labelWidth: '60px',\r\n        model: {\r\n          parentId: '',\r\n          name: '',\r\n          code: ''\r\n        }\r\n      },\r\n      remove: api.remove,\r\n      // 当前数量\r\n      total: 0,\r\n      // 弹出框\r\n      dialog: {\r\n        add: false,\r\n        edit: false,\r\n        // 排序\r\n        sort: false\r\n      },\r\n      // 左侧菜单树选择的菜单\r\n      menu: {\r\n        id: '',\r\n        name: '',\r\n        path: ''\r\n      },\r\n      buttons: page.buttons,\r\n      dragSort: {\r\n        queryAction: this.querySortList,\r\n        updateAction: api.updateSortList,\r\n        height: '700px'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    title() {\r\n      return '菜单列表—' + this.menu.name\r\n    }\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.list.model.parentId = this.menu.id\r\n      this.$refs.list.refresh()\r\n    },\r\n    onTreeChange({ id, label, path, item }) {\r\n      this.menu.id = id\r\n      this.menu.name = label\r\n      //是否是节点菜单\r\n      this.menu.isNode = item.type === 0\r\n      this.menu.path = path.join(' / ')\r\n      this.refresh()\r\n    },\r\n    add(total) {\r\n      this.total = total\r\n      this.dialog.add = true\r\n    },\r\n    edit(row) {\r\n      this.curr = row\r\n      this.dialog.edit = true\r\n    },\r\n    querySortList() {\r\n      return api.querySortList(this.menu.id)\r\n    },\r\n    openSort() {\r\n      this.dialog.sort = true\r\n    },\r\n    onAdd(model) {\r\n      this.$refs.tree.insert(model)\r\n      this.refresh()\r\n    },\r\n    onDelete(id) {\r\n      this.$refs.tree.remove(id)\r\n      this.refresh()\r\n    },\r\n    onEdit(model) {\r\n      this.$refs.tree.update(model)\r\n      this.refresh()\r\n    },\r\n    onSort(data) {\r\n      this.$refs.tree.sort(data)\r\n      this.refresh()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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"}]}