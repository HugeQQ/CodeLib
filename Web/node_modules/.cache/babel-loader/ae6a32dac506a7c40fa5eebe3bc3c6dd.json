{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\src\\views\\class\\index\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\src\\views\\class\\index\\index.vue","mtime":1706609443767},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\babel.config.js","mtime":1706609443763},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWl4aW5zIH0gZnJvbSAnbmV0bW9kdWxhci11aSc7CmltcG9ydCBjb2xzIGZyb20gJy4vY29scy5qcyc7CmltcG9ydCBTYXZlUGFnZSBmcm9tICcuLi9jb21wb25lbnRzL3NhdmUnOwppbXBvcnQgUHJvcGVydHlQYWdlIGZyb20gJy4uLy4uL3Byb3BlcnR5L2luZGV4JzsKaW1wb3J0IE1vZGVsTWFuYWdlUGFnZSBmcm9tICcuLi8uLi9tb2RlbFByb3BlcnR5L2luZGV4JzsKaW1wb3J0IENvZGVQcmV2aWV3IGZyb20gJy4uL2NvbXBvbmVudHMvY29kZS1wcmV2aWV3JzsKdmFyIGFwaSA9ICRhcGkuY29kZUdlbmVyYXRvci5jbGFzczsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW21peGlucy52aXNpYmxlLCBtaXhpbnMubGlzdF0sCiAgY29tcG9uZW50czogewogICAgU2F2ZVBhZ2U6IFNhdmVQYWdlLAogICAgUHJvcGVydHlQYWdlOiBQcm9wZXJ0eVBhZ2UsCiAgICBNb2RlbE1hbmFnZVBhZ2U6IE1vZGVsTWFuYWdlUGFnZSwKICAgIENvZGVQcmV2aWV3OiBDb2RlUHJldmlldwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnI6IHsKICAgICAgICBuYW1lOiAnJwogICAgICB9LAogICAgICBsaXN0OiB7CiAgICAgICAgbm9IZWFkZXI6IHRydWUsCiAgICAgICAgcXVlcnlPbkNyZWF0ZWQ6IGZhbHNlLAogICAgICAgIGFjdGlvbjogYXBpLnF1ZXJ5LAogICAgICAgIG9wZXJhdGlvbldpZHRoOiAnNDAwJywKICAgICAgICBtb2RlbDogewogICAgICAgICAgbW9kdWxlSWQ6ICcnLAogICAgICAgICAgbmFtZTogJycKICAgICAgICB9LAogICAgICAgIGNvbHM6IGNvbHMKICAgICAgfSwKICAgICAgZGlhbG9nOiB7CiAgICAgICAgcHJvcGVydHk6IGZhbHNlLAogICAgICAgIG1vZGVsOiBmYWxzZSwKICAgICAgICBjb2RlUHJldmlldzogZmFsc2UKICAgICAgfSwKICAgICAgcmVtb3ZlQWN0aW9uOiBhcGkucmVtb3ZlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIG1vZHVsZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGlhbG9nT3B0aW9uczogZnVuY3Rpb24gZGlhbG9nT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0aXRsZTogIlx1NUI5RVx1NEY1M1x1NTIxN1x1ODg2OCgiLmNvbmNhdCh0aGlzLm1vZHVsZS5uYW1lLCAiKSIpLAogICAgICAgIGljb246ICdsaXN0JywKICAgICAgICB3aWR0aDogJzgwJScKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmiZPlvIDmqKHlnovnrqHnkIYgKi9vcGVuTW9kZWxNYW5hZ2U6IGZ1bmN0aW9uIG9wZW5Nb2RlbE1hbmFnZShyb3cpIHsKICAgICAgdGhpcy5jdXJyLmlkID0gcm93LmlkOwogICAgICB0aGlzLmN1cnIubmFtZSA9IHJvdy5uYW1lOwogICAgICB0aGlzLmRpYWxvZy5tb2RlbCA9IHRydWU7CiAgICB9LAogICAgbWFuYWdlUHJvcGVydHk6IGZ1bmN0aW9uIG1hbmFnZVByb3BlcnR5KHJvdykgewogICAgICB0aGlzLmN1cnIuaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuY3Vyci5uYW1lID0gcm93Lm5hbWU7CiAgICAgIHRoaXMuZGlhbG9nLnByb3BlcnR5ID0gdHJ1ZTsKICAgIH0sCiAgICBidWlsZENvZGU6IGZ1bmN0aW9uIGJ1aWxkQ29kZShyb3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5fb3BlbkxvYWRpbmcoJ+ato+WcqOWKquWKm+eUn+aIkOS7o+egge+8jOivt+eojeWQji4uLicpOwogICAgICBhcGkuYnVpbGRDb2RlKHJvdy5pZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuX2Nsb3NlTG9hZGluZygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuX2Nsb3NlTG9hZGluZygpOwogICAgICB9KTsKICAgIH0sCiAgICBjb2RlUHJldmlldzogZnVuY3Rpb24gY29kZVByZXZpZXcocm93KSB7CiAgICAgIHRoaXMuY3Vyci5pZCA9IHJvdy5pZDsKICAgICAgdGhpcy5jdXJyLm5hbWUgPSByb3cubmFtZTsKICAgICAgdGhpcy5kaWFsb2cuY29kZVByZXZpZXcgPSB0cnVlOwogICAgfSwKICAgIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5saXN0LnJlc2V0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uUmVzZXQ6IGZ1bmN0aW9uIG9uUmVzZXQoKSB7CiAgICAgIHRoaXMubGlzdC5tb2RlbC5tb2R1bGVJZCA9IHRoaXMubW9kdWxlLmlkOwogICAgICB0aGlzLiRyZWZzLmxpc3QucXVlcnkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mixins","cols","SavePage","PropertyPage","ModelManagePage","CodePreview","api","$api","codeGenerator","class","visible","list","components","data","curr","name","noHeader","queryOnCreated","action","query","operationWidth","model","moduleId","dialog","property","codePreview","removeAction","remove","props","module","type","Object","required","computed","dialogOptions","title","concat","icon","width","methods","openModelManage","row","id","manageProperty","buildCode","_this","_openLoading","then","_closeLoading","catch","onOpen","_this2","$nextTick","$refs","reset","onReset"],"sources":["src/views/class/index/index.vue"],"sourcesContent":["<template>\r\n  <nm-list-dialog v-bind=\"dialogOptions\" :visible.sync=\"visible_\" @open=\"onOpen\">\r\n    <nm-list ref=\"list\" v-bind=\"list\" @reset=\"onReset\">\r\n      <template v-slot:querybar>\r\n        <el-form-item label=\"名称：\" prop=\"name\">\r\n          <el-input v-model=\"list.model.name\" clearable />\r\n        </el-form-item>\r\n      </template>\r\n\r\n      <template v-slot:querybar-buttons>\r\n        <nm-button type=\"success\" text=\"添加\" icon=\"add\" @click=\"add\" />\r\n      </template>\r\n\r\n      <template v-slot:menuIcon=\"{ row }\">\r\n        <nm-icon :name=\"row.menuIcon\" />\r\n      </template>\r\n\r\n      <template v-slot:col-operation=\"{ row }\">\r\n        <nm-button text=\"属性管理\" icon=\"entity\" type=\"text\" @click=\"manageProperty(row)\" />\r\n        <nm-button text=\"视图模型\" icon=\"entity\" type=\"text\" @click=\"openModelManage(row)\" />\r\n        <nm-button text=\"生成代码\" icon=\"download\" type=\"text\" @click=\"buildCode(row)\" />\r\n        <!-- <nm-button text=\"预览代码\" icon=\"display\" type=\"text\" @click=\"codePreview(row)\" /> -->\r\n        <nm-button text=\"编辑\" icon=\"edit\" type=\"text\" @click=\"edit(row)\" />\r\n        <nm-button-delete :action=\"removeAction\" :id=\"row.id\" @success=\"refresh\" />\r\n      </template>\r\n    </nm-list>\r\n\r\n    <save-page :id=\"curr.id\" :module=\"module\" :visible.sync=\"dialog.save\" @success=\"refresh\" />\r\n    <property-page :parent=\"curr\" :visible.sync=\"dialog.property\" />\r\n    <model-manage-page :parent=\"curr\" :visible.sync=\"dialog.model\" />\r\n    <code-preview :id=\"curr.id\" :visible.sync=\"dialog.codePreview\" />\r\n  </nm-list-dialog>\r\n</template>\r\n<script>\r\nimport { mixins } from 'netmodular-ui'\r\nimport cols from './cols.js'\r\nimport SavePage from '../components/save'\r\nimport PropertyPage from '../../property/index'\r\nimport ModelManagePage from '../../modelProperty/index'\r\nimport CodePreview from '../components/code-preview'\r\n\r\nconst api = $api.codeGenerator.class\r\n\r\nexport default {\r\n  mixins: [mixins.visible, mixins.list],\r\n  components: { SavePage, PropertyPage, ModelManagePage, CodePreview },\r\n  data() {\r\n    return {\r\n      curr: { name: '' },\r\n      list: {\r\n        noHeader: true,\r\n        queryOnCreated: false,\r\n        action: api.query,\r\n        operationWidth: '400',\r\n        model: {\r\n          moduleId: '',\r\n          name: ''\r\n        },\r\n        cols\r\n      },\r\n      dialog: {\r\n        property: false,\r\n        model: false,\r\n        codePreview: false\r\n      },\r\n      removeAction: api.remove\r\n    }\r\n  },\r\n  props: {\r\n    module: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    dialogOptions() {\r\n      return {\r\n        title: `实体列表(${this.module.name})`,\r\n        icon: 'list',\r\n        width: '80%'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    /** 打开模型管理 */\r\n    openModelManage(row) {\r\n      this.curr.id = row.id\r\n      this.curr.name = row.name\r\n      this.dialog.model = true\r\n    },\r\n    manageProperty(row) {\r\n      this.curr.id = row.id\r\n      this.curr.name = row.name\r\n      this.dialog.property = true\r\n    },\r\n    buildCode(row) {\r\n      this._openLoading('正在努力生成代码，请稍后...')\r\n      api\r\n        .buildCode(row.id)\r\n        .then(() => {\r\n          this._closeLoading()\r\n        })\r\n        .catch(() => {\r\n          this._closeLoading()\r\n        })\r\n    },\r\n    codePreview(row) {\r\n      this.curr.id = row.id\r\n      this.curr.name = row.name\r\n      this.dialog.codePreview = true\r\n    },\r\n    onOpen() {\r\n      this.$nextTick(() => {\r\n        this.$refs.list.reset()\r\n      })\r\n    },\r\n    onReset() {\r\n      this.list.model.moduleId = this.module.id\r\n      this.$refs.list.query()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAkCA,SAAAA,MAAA;AACA,OAAAC,IAAA;AACA,OAAAC,QAAA;AACA,OAAAC,YAAA;AACA,OAAAC,eAAA;AACA,OAAAC,WAAA;AAEA,IAAAC,GAAA,GAAAC,IAAA,CAAAC,aAAA,CAAAC,KAAA;AAEA;EACAT,MAAA,GAAAA,MAAA,CAAAU,OAAA,EAAAV,MAAA,CAAAW,IAAA;EACAC,UAAA;IAAAV,QAAA,EAAAA,QAAA;IAAAC,YAAA,EAAAA,YAAA;IAAAC,eAAA,EAAAA,eAAA;IAAAC,WAAA,EAAAA;EAAA;EACAQ,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;QAAAC,IAAA;MAAA;MACAJ,IAAA;QACAK,QAAA;QACAC,cAAA;QACAC,MAAA,EAAAZ,GAAA,CAAAa,KAAA;QACAC,cAAA;QACAC,KAAA;UACAC,QAAA;UACAP,IAAA;QACA;QACAd,IAAA,EAAAA;MACA;MACAsB,MAAA;QACAC,QAAA;QACAH,KAAA;QACAI,WAAA;MACA;MACAC,YAAA,EAAApB,GAAA,CAAAqB;IACA;EACA;EACAC,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACAC,aAAA,WAAAA,cAAA;MACA;QACAC,KAAA,8BAAAC,MAAA,MAAAP,MAAA,CAAAd,IAAA;QACAsB,IAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACA,aACAC,eAAA,WAAAA,gBAAAC,GAAA;MACA,KAAA3B,IAAA,CAAA4B,EAAA,GAAAD,GAAA,CAAAC,EAAA;MACA,KAAA5B,IAAA,CAAAC,IAAA,GAAA0B,GAAA,CAAA1B,IAAA;MACA,KAAAQ,MAAA,CAAAF,KAAA;IACA;IACAsB,cAAA,WAAAA,eAAAF,GAAA;MACA,KAAA3B,IAAA,CAAA4B,EAAA,GAAAD,GAAA,CAAAC,EAAA;MACA,KAAA5B,IAAA,CAAAC,IAAA,GAAA0B,GAAA,CAAA1B,IAAA;MACA,KAAAQ,MAAA,CAAAC,QAAA;IACA;IACAoB,SAAA,WAAAA,UAAAH,GAAA;MAAA,IAAAI,KAAA;MACA,KAAAC,YAAA;MACAxC,GAAA,CACAsC,SAAA,CAAAH,GAAA,CAAAC,EAAA,EACAK,IAAA;QACAF,KAAA,CAAAG,aAAA;MACA,GACAC,KAAA;QACAJ,KAAA,CAAAG,aAAA;MACA;IACA;IACAvB,WAAA,WAAAA,YAAAgB,GAAA;MACA,KAAA3B,IAAA,CAAA4B,EAAA,GAAAD,GAAA,CAAAC,EAAA;MACA,KAAA5B,IAAA,CAAAC,IAAA,GAAA0B,GAAA,CAAA1B,IAAA;MACA,KAAAQ,MAAA,CAAAE,WAAA;IACA;IACAyB,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACA,KAAAC,SAAA;QACAD,MAAA,CAAAE,KAAA,CAAA1C,IAAA,CAAA2C,KAAA;MACA;IACA;IACAC,OAAA,WAAAA,QAAA;MACA,KAAA5C,IAAA,CAAAU,KAAA,CAAAC,QAAA,QAAAO,MAAA,CAAAa,EAAA;MACA,KAAAW,KAAA,CAAA1C,IAAA,CAAAQ,KAAA;IACA;EACA;AACA"}]}