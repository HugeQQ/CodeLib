{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\button-delete-batch\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\button-delete-batch\\index.vue","mtime":1706623144403},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdCdXR0b25EZWxldGVCYXRjaCcsDQogIHByb3BzOiB7DQogICAgLyoqIOWwuuWvuO+8jOm7mOiupOaIluiAheS4uuepuuaXtu+8jOaMieeFp+earuiCpOeahOWtl+WPt+iuvue9riAqLw0KICAgIHNpemU6IFN0cmluZywNCiAgICAvKiog57G75Z6LIHByaW1hcnkvc3VjY2Vzcy93YXJuaW5nL2Rhbmdlci9pbmZvL3RleHQgKi8NCiAgICB0eXBlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnZGFuZ2VyJw0KICAgIH0sDQogICAgLyoqIOaYr+WQpuactOe0oOaMiemSriAqLw0KICAgIHBsYWluOiBCb29sZWFuLA0KICAgIC8qKiDmmK/lkKblnIbop5LmjInpkq4gKi8NCiAgICByb3VuZDogQm9vbGVhbiwNCiAgICAvKiog5piv5ZCm5ZyG5b2i5oyJ6ZKuICovDQogICAgY2lyY2xlOiBCb29sZWFuLA0KICAgIC8qKiDmmK/lkKbliqDovb3kuK3nirbmgIEgKi8NCiAgICBsb2FkaW5nOiBCb29sZWFuLA0KICAgIC8qKiDmmK/lkKbnpoHnlKjnirbmgIEgKi8NCiAgICBkaXNhYmxlZDogQm9vbGVhbiwNCiAgICAvKiog5piv5ZCm6buY6K6k6IGa54SmICovDQogICAgYXV0b2ZvY3VzOiBCb29sZWFuLA0KICAgIC8qKiDljp/nlJ8gdHlwZSDlsZ7mgKcgYnV0dG9uL3N1Ym1pdC9yZXNldCAqLw0KICAgIG5hdGl2ZVR5cGU6IFN0cmluZywNCiAgICAvKiog5Zu+5qCHICovDQogICAgaWNvbjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2JhdGNoLWRlbGV0ZScNCiAgICB9LA0KICAgIC8vIOaWh+acrA0KICAgIHRleHQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICfmibnph4/liKDpmaQnDQogICAgfSwNCiAgICAvLyDmjInpkq7nvJbnoIHvvIznlKjkuo7mjInpkq7mnYPpmZDmjqfliLYNCiAgICBjb2RlOiBTdHJpbmcsDQogICAgLy8g5bey6YCJ5oup55qE5pWw5o2u5YiX6KGoDQogICAgc2VsZWN0aW9uOiBBcnJheSwNCiAgICAvLyDopoHmmL7npLrnmoTlsZ7mgKflkI3np7ANCiAgICBzaG93UHJvcGVydHk6IFN0cmluZywNCiAgICAvLyDkuI3mmL7npLrlm77moIcNCiAgICBub0ljb246IEJvb2xlYW4sDQogICAgLy8g5Yig6Zmk5pa55rOVDQogICAgYWN0aW9uOiB7DQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgcmVtb3ZlKCkgew0KICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbiB8fCB0aGlzLnNlbGVjdGlvbi5sZW5ndGggPCAxKSB7DQogICAgICAgIHRoaXMuX2Vycm9yKCfor7fpgInmi6nopoHliKDpmaTnmoTmlbDmja5+JykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGxldCBtc2cgPSAn5oKo56Gu6K6k6KaB5Yig6Zmk5Lul5LiL5pWw5o2u5ZCX77yfJw0KICAgICAgaWYgKHRoaXMuc2hvd1Byb3BlcnR5KSB7DQogICAgICAgIG1zZyArPSAnPGJyLz7lt7LpgInmi6nvvJonICsgdGhpcy5zZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbVt0aGlzLnNob3dQcm9wZXJ0eV0pLmpvaW4oJ+OAgScpDQogICAgICB9DQoNCiAgICAgIHRoaXMuJGNvbmZpcm0obXNnLCAn5o+Q56S6Jywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gew0KICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiB8fCB0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgICB0aGlzLl9vcGVuTG9hZGluZygn5q2j5Zyo5Yig6Zmk77yM6K+356iN5ZCOLi4uJykNCg0KICAgICAgICAgICAgdGhpcy5hY3Rpb24odGhpcy5zZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCkpDQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZUxvYWRpbmcoKQ0KICAgICAgICAgICAgICAgIHRoaXMuX3N1Y2Nlc3MoJ+WIoOmZpOaIkOWKn34nKQ0KICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlTG9hZGluZygpDQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZXJyb3InKQ0KICAgICAgICAgICAgICB9LCB0aGlzLm1zZykNCiAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-ui/packages/components/button-delete-batch","sourcesContent":["<template>\r\n  <el-button\r\n    class=\"nm-button\"\r\n    :type=\"type\"\r\n    :size=\"size || fontSize\"\r\n    :plain=\"plain\"\r\n    :round=\"round\"\r\n    :circle=\"circle\"\r\n    :loading=\"loading\"\r\n    :disabled=\"disabled\"\r\n    :autofocus=\"autofocus\"\r\n    :native-type=\"nativeType\"\r\n    v-nm-has=\"code\"\r\n    @click=\"remove\"\r\n  >\r\n    <nm-icon v-if=\"!noIcon\" :name=\"icon\" />\r\n    <span v-if=\"!circle && text\" class=\"nm-button-text\">{{ text }}</span>\r\n  </el-button>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ButtonDeleteBatch',\r\n  props: {\r\n    /** 尺寸，默认或者为空时，按照皮肤的字号设置 */\r\n    size: String,\r\n    /** 类型 primary/success/warning/danger/info/text */\r\n    type: {\r\n      type: String,\r\n      default: 'danger'\r\n    },\r\n    /** 是否朴素按钮 */\r\n    plain: Boolean,\r\n    /** 是否圆角按钮 */\r\n    round: Boolean,\r\n    /** 是否圆形按钮 */\r\n    circle: Boolean,\r\n    /** 是否加载中状态 */\r\n    loading: Boolean,\r\n    /** 是否禁用状态 */\r\n    disabled: Boolean,\r\n    /** 是否默认聚焦 */\r\n    autofocus: Boolean,\r\n    /** 原生 type 属性 button/submit/reset */\r\n    nativeType: String,\r\n    /** 图标 */\r\n    icon: {\r\n      type: String,\r\n      default: 'batch-delete'\r\n    },\r\n    // 文本\r\n    text: {\r\n      type: String,\r\n      default: '批量删除'\r\n    },\r\n    // 按钮编码，用于按钮权限控制\r\n    code: String,\r\n    // 已选择的数据列表\r\n    selection: Array,\r\n    // 要显示的属性名称\r\n    showProperty: String,\r\n    // 不显示图标\r\n    noIcon: Boolean,\r\n    // 删除方法\r\n    action: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    async remove() {\r\n      if (!this.selection || this.selection.length < 1) {\r\n        this._error('请选择要删除的数据~')\r\n        return\r\n      }\r\n\r\n      let msg = '您确认要删除以下数据吗？'\r\n      if (this.showProperty) {\r\n        msg += '<br/>已选择：' + this.selection.map(item => item[this.showProperty]).join('、')\r\n      }\r\n\r\n      this.$confirm(msg, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        dangerouslyUseHTMLString: true,\r\n        type: 'warning'\r\n      })\r\n        .then(async () => {\r\n          if (this.action || typeof action === 'function') {\r\n            this._openLoading('正在删除，请稍后...')\r\n\r\n            this.action(this.selection.map(item => item.id))\r\n              .then(() => {\r\n                this._closeLoading()\r\n                this._success('删除成功~')\r\n                this.$emit('success')\r\n              })\r\n              .catch(() => {\r\n                this._closeLoading()\r\n                this.$emit('error')\r\n              }, this.msg)\r\n              .catch(() => {})\r\n          }\r\n        })\r\n        .catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}