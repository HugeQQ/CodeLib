{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\checkbox-group\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\checkbox-group\\index.vue","mtime":1706623144406},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDaGVja2JveEdyb3VwJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdmFsdWVfOiB0aGlzLnZhbHVlLA0KICAgICAgY2hlY2tBbGw6IGZhbHNlLA0KICAgICAgaXNJbmRldGVybWluYXRlOiB0cnVlLA0KICAgICAgb3B0aW9uczogW10NCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBzaXplOiBTdHJpbmcsDQogICAgZGlzYWJsZWQ6IEJvb2xlYW4sDQogICAgbWluOiBOdW1iZXIsDQogICAgbWF4OiBOdW1iZXIsDQogICAgYm9yZGVyOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgYWN0aW9uOiBGdW5jdGlvbg0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGRpc2FibGVkQ2hlY2tBbGwoKSB7DQogICAgICByZXR1cm4gIXRoaXMub3B0aW9ucyB8fCB0aGlzLm9wdGlvbnMubGVuZ3RoIDwgMSB8fCAhdGhpcy5vcHRpb25zLmV2ZXJ5KG8gPT4gIW8uZGlzYWJsZWQpDQogICAgfSwNCiAgICBzZWxlY3Rpb24oKSB7DQogICAgICBsZXQgbGlzdCA9IFtdDQogICAgICBpZiAodGhpcy52YWx1ZV8pIHsNCiAgICAgICAgdGhpcy52YWx1ZV8uZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgY29uc3Qgb3B0ID0gdGhpcy5vcHRpb25zW2ldDQogICAgICAgICAgICBpZiAob3B0LnZhbHVlID09PSBpdGVtKSB7DQogICAgICAgICAgICAgIGxpc3QucHVzaChvcHQpDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gbGlzdA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJlZnJlc2goKSB7DQogICAgICB0aGlzLmFjdGlvbigpLnRoZW4ob3B0aW9ucyA9PiB7DQogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMNCiAgICAgICAgdGhpcy5zZXRDaGVja0FsbCgpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g6K6+572u5YWo6YCJ54q25oCBDQogICAgc2V0Q2hlY2tBbGwoKSB7DQogICAgICBpZiAodGhpcy52YWx1ZV8pIHsNCiAgICAgICAgbGV0IHNlbGVjdGlvbkNvdW50ID0gdGhpcy52YWx1ZV8ubGVuZ3RoDQogICAgICAgIHRoaXMuY2hlY2tBbGwgPSBzZWxlY3Rpb25Db3VudCA9PT0gdGhpcy5vcHRpb25zLmxlbmd0aA0KICAgICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IHNlbGVjdGlvbkNvdW50ID4gMCAmJiBzZWxlY3Rpb25Db3VudCA8IHRoaXMub3B0aW9ucy5sZW5ndGgNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOWkhOeQhuWFqOmAieaMiemSruS6i+S7tg0KICAgIG9uQ2hlY2tBbGxDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnZhbHVlXyA9IHZhbCA/IHRoaXMub3B0aW9ucy5tYXAobSA9PiBtLnZhbHVlKSA6IFtdDQogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlDQogICAgICB0aGlzLm9uQ2hhbmdlKCkNCiAgICB9LA0KICAgIG9uQ2hlY2tlZENoYW5nZSh2YWx1ZSkgew0KICAgICAgbGV0IGNoZWNrZWRDb3VudCA9IHZhbHVlLmxlbmd0aA0KICAgICAgdGhpcy5jaGVja0FsbCA9IGNoZWNrZWRDb3VudCA9PT0gdGhpcy5vcHRpb25zLmxlbmd0aA0KICAgICAgdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBjaGVja2VkQ291bnQgPiAwICYmIGNoZWNrZWRDb3VudCA8IHRoaXMub3B0aW9ucy5sZW5ndGgNCiAgICAgIHRoaXMub25DaGFuZ2UoKQ0KICAgIH0sDQogICAgLy8g5riF5qWa5bey6YCJ6aG5DQogICAgY2xlYXIoKSB7DQogICAgICB0aGlzLnZhbHVlXyA9IHRoaXMudmFsdWUNCiAgICAgIHRoaXMub25DaGFuZ2UoKQ0KICAgIH0sDQogICAgb25DaGFuZ2UoKSB7DQogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMudmFsdWVfKQ0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZV8sIHRoaXMuc2VsZWN0aW9uLCB0aGlzLm9wdGlvbnMpDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMucmVmcmVzaCgpDQogIH0sDQogIHdhdGNoOiB7DQogICAgdmFsdWUodmFsKSB7DQogICAgICB0aGlzLnZhbHVlXyA9IHZhbA0KICAgICAgdGhpcy5zZXRDaGVja0FsbCgpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-ui/packages/components/checkbox-group","sourcesContent":["<template>\r\n  <nm-box header class=\"nm-checkbox-group\">\r\n    <template v-slot:header>\r\n      <el-checkbox v-model=\"checkAll\" :size=\"size || fontSize\" :indeterminate=\"isIndeterminate\" :disabled=\"disabledCheckAll\" @change=\"onCheckAllChange\">全选</el-checkbox>\r\n    </template>\r\n    <el-checkbox-group v-model=\"value_\" :size=\"size || fontSize\" @change=\"onCheckedChange\">\r\n      <el-checkbox v-for=\"item in options\" :key=\"item.value\" :label=\"item.value\" :disabled=\"item.disabled\" :border=\"border\">\r\n        <slot :option=\"item\">{{ item.label }}</slot>\r\n      </el-checkbox>\r\n    </el-checkbox-group>\r\n  </nm-box>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'CheckboxGroup',\r\n  data() {\r\n    return {\r\n      value_: this.value,\r\n      checkAll: false,\r\n      isIndeterminate: true,\r\n      options: []\r\n    }\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    size: String,\r\n    disabled: Boolean,\r\n    min: Number,\r\n    max: Number,\r\n    border: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    action: Function\r\n  },\r\n  computed: {\r\n    disabledCheckAll() {\r\n      return !this.options || this.options.length < 1 || !this.options.every(o => !o.disabled)\r\n    },\r\n    selection() {\r\n      let list = []\r\n      if (this.value_) {\r\n        this.value_.forEach(item => {\r\n          for (var i = 0; i < this.options.length; i++) {\r\n            const opt = this.options[i]\r\n            if (opt.value === item) {\r\n              list.push(opt)\r\n              break\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      return list\r\n    }\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.action().then(options => {\r\n        this.options = options\r\n        this.setCheckAll()\r\n      })\r\n    },\r\n    // 设置全选状态\r\n    setCheckAll() {\r\n      if (this.value_) {\r\n        let selectionCount = this.value_.length\r\n        this.checkAll = selectionCount === this.options.length\r\n        this.isIndeterminate = selectionCount > 0 && selectionCount < this.options.length\r\n      } else {\r\n        this.isIndeterminate = false\r\n      }\r\n    },\r\n    // 处理全选按钮事件\r\n    onCheckAllChange(val) {\r\n      this.value_ = val ? this.options.map(m => m.value) : []\r\n      this.isIndeterminate = false\r\n      this.onChange()\r\n    },\r\n    onCheckedChange(value) {\r\n      let checkedCount = value.length\r\n      this.checkAll = checkedCount === this.options.length\r\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.options.length\r\n      this.onChange()\r\n    },\r\n    // 清楚已选项\r\n    clear() {\r\n      this.value_ = this.value\r\n      this.onChange()\r\n    },\r\n    onChange() {\r\n      this.$emit('input', this.value_)\r\n      this.$emit('change', this.value_, this.selection, this.options)\r\n    }\r\n  },\r\n  created() {\r\n    this.refresh()\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.value_ = val\r\n      this.setCheckAll()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}