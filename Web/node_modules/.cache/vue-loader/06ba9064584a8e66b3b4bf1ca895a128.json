{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\form\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\form\\index.vue","mtime":1706623144421},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgbG9hZGluZyBmcm9tICcuLi8uLi9taXhpbnMvY29tcG9uZW50cy9sb2FkaW5nJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRm9ybScsDQogIG1peGluczogW2xvYWRpbmddLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsb2FkaW5nXzogZmFsc2UNCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgLyoqIOihqOWNleWvueixoSAqLw0KICAgIG1vZGVsOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgLyoqIOmqjOivgeinhOWImSAqLw0KICAgIHJ1bGVzOiBPYmplY3QsDQogICAgLyoqIOaPkOS6pOivt+axgiAqLw0KICAgIGFjdGlvbjogRnVuY3Rpb24sDQogICAgLyoqIOihjOWGheihqOWNleaooeW8jyAqLw0KICAgIGlubGluZTogQm9vbGVhbiwNCiAgICAvKiog5piv5ZCm5pi+56S65oiQ5Yqf5o+Q56S65raI5oGvICovDQogICAgc3VjY2Vzc01zZzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIC8qKiDmiJDlip/mj5DnpLrmtojmga/mlofmnKwgKi8NCiAgICBzdWNjZXNzTXNnVGV4dDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ+S/neWtmOaIkOWKnycNCiAgICB9LA0KICAgIC8qKiDmoIfnrb7nmoTlrr3luqYgKi8NCiAgICBsYWJlbFdpZHRoOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnMTAwcHgnDQogICAgfSwNCiAgICAvKiog6KGo5Y2V5Z+f5qCH562+55qE5L2N572u77yM5aaC5p6c5YC85Li6IGxlZnQg5oiW6ICFIHJpZ2h0IOaXtu+8jOWImemcgOimgeiuvue9riBsYWJlbC13aWR0aCAqLw0KICAgIGxhYmVsUG9zaXRpb246IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdyaWdodCcNCiAgICB9LA0KICAgIC8vIOiHquWumuS5iemqjOivgQ0KICAgIGN1c3RvbVZhbGlkYXRlOiBGdW5jdGlvbiwNCiAgICAvKiog56aB55So6KGo5Y2VICovDQogICAgZGlzYWJsZWQ6IEJvb2xlYW4sDQogICAgLyoqIOaYvuekuuWKoOi9veWKqOeUuyAqLw0KICAgIGxvYWRpbmc6IEJvb2xlYW4sDQogICAgLyoqIOS4jeaYvuekuuWKoOi9veWKqOeUuyAqLw0KICAgIG5vTG9hZGluZzogQm9vbGVhbiwNCiAgICAvKiog6Ieq5a6a5LmJ6YeN572u5pON5L2cICovDQogICAgY3VzdG9tUmVzZXRGdW5jdGlvbjogRnVuY3Rpb24NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBzaG93TG9hZGluZygpIHsNCiAgICAgIHJldHVybiAhdGhpcy5ub0xvYWRpbmcgJiYgKHRoaXMubG9hZGluZ18gfHwgdGhpcy5sb2FkaW5nKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKiDmj5DkuqQgKi8NCiAgICBzdWJtaXQoKSB7DQogICAgICB0aGlzLnZhbGlkYXRlKCgpID0+IHsNCiAgICAgICAgdGhpcy5vcGVuTG9hZGluZygpDQogICAgICAgIHRoaXMuYWN0aW9uKHRoaXMubW9kZWwpDQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICBpZiAodGhpcy5zdWNjZXNzTXNnID09PSB0cnVlKSB7DQogICAgICAgICAgICAgIHRoaXMuX3N1Y2Nlc3ModGhpcy5zdWNjZXNzTXNnVGV4dCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnLCBkYXRhKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJykNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FkaW5nKCkNCiAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qKiDooajljZXpqozor4EgKi8NCiAgICB2YWxpZGF0ZShjYWxsYmFjaykgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsNCiAgICAgICAgLy8g6Ieq5a6a5LmJ6aqM6K+BDQogICAgICAgIGlmICh2YWxpZCAmJiAoIXRoaXMuY3VzdG9tVmFsaWRhdGUgfHwgdGhpcy5jdXN0b21WYWxpZGF0ZSgpID09PSB0cnVlKSkgew0KICAgICAgICAgIGNhbGxiYWNrKCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyDpqozor4HlpLHotKUNCiAgICAgICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0ZS1lcnJvcicpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvKiog6YeN572uICovDQogICAgcmVzZXQoKSB7DQogICAgICBpZiAodGhpcy5jdXN0b21SZXNldEZ1bmN0aW9uKSB7DQogICAgICAgIHRoaXMuY3VzdG9tUmVzZXRGdW5jdGlvbigpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKQ0KICAgICAgICB0aGlzLnJlc2V0Q2hpbGRyZW4odGhpcy4kcmVmcy5mb3JtKQ0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgncmVzZXQnKQ0KICAgIH0sDQogICAgLyoqIOmHjee9ruWtkOe7hOS7tiAqLw0KICAgIHJlc2V0Q2hpbGRyZW4odm5vZGUpIHsNCiAgICAgIGlmICh2bm9kZS4kY2hpbGRyZW4gJiYgdm5vZGUuJGNoaWxkcmVuLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdm5vZGUuJGNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5yZXNldCAmJiB0eXBlb2YgaXRlbS5yZXNldCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgICAgaXRlbS5yZXNldCgpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMucmVzZXRDaGlsZHJlbihpdGVtKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgLyoqIOa4hemZpOmqjOivgee7k+aenCAqLw0KICAgIGNsZWFyVmFsaWRhdGUocHJvcHMpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5jbGVhclZhbGlkYXRlKHByb3BzKQ0KICAgIH0sDQogICAgLyoqIOaJk+W8gOWKoOi9veS4rSAqLw0KICAgIG9wZW5Mb2FkaW5nKCkgew0KICAgICAgaWYgKCF0aGlzLm5vTG9hZGluZykgew0KICAgICAgICB0aGlzLmxvYWRpbmdfID0gdHJ1ZQ0KICAgICAgfQ0KICAgIH0sDQogICAgLyoqIOWFs+mXreWKoOi9veS4rSAqLw0KICAgIGNsb3NlTG9hZGluZygpIHsNCiAgICAgIGlmICghdGhpcy5ub0xvYWRpbmcpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nXyA9IGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBvblZhbGlkYXRlKHByb3AsIHZhbGlkLCBtc2cpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRlJywgcHJvcCwgdmFsaWQsIG1zZykNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-ui/packages/components/form","sourcesContent":["<template>\r\n  <el-form\r\n    class=\"nm-form\"\r\n    ref=\"form\"\r\n    :model=\"model\"\r\n    :rules=\"rules\"\r\n    :label-width=\"labelWidth\"\r\n    :label-position=\"labelPosition\"\r\n    :size=\"fontSize\"\r\n    :inline=\"inline\"\r\n    :disabled=\"disabled\"\r\n    v-loading=\"showLoading\"\r\n    :element-loading-text=\"loadingText\"\r\n    :element-loading-background=\"loadingBackground\"\r\n    :element-loading-spinner=\"loadingSpinner\"\r\n    @validate=\"onValidate\"\r\n  >\r\n    <slot />\r\n  </el-form>\r\n</template>\r\n<script>\r\nimport loading from '../../mixins/components/loading'\r\nexport default {\r\n  name: 'Form',\r\n  mixins: [loading],\r\n  data() {\r\n    return {\r\n      loading_: false\r\n    }\r\n  },\r\n  props: {\r\n    /** 表单对象 */\r\n    model: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    /** 验证规则 */\r\n    rules: Object,\r\n    /** 提交请求 */\r\n    action: Function,\r\n    /** 行内表单模式 */\r\n    inline: Boolean,\r\n    /** 是否显示成功提示消息 */\r\n    successMsg: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    /** 成功提示消息文本 */\r\n    successMsgText: {\r\n      type: String,\r\n      default: '保存成功'\r\n    },\r\n    /** 标签的宽度 */\r\n    labelWidth: {\r\n      type: String,\r\n      default: '100px'\r\n    },\r\n    /** 表单域标签的位置，如果值为 left 或者 right 时，则需要设置 label-width */\r\n    labelPosition: {\r\n      type: String,\r\n      default: 'right'\r\n    },\r\n    // 自定义验证\r\n    customValidate: Function,\r\n    /** 禁用表单 */\r\n    disabled: Boolean,\r\n    /** 显示加载动画 */\r\n    loading: Boolean,\r\n    /** 不显示加载动画 */\r\n    noLoading: Boolean,\r\n    /** 自定义重置操作 */\r\n    customResetFunction: Function\r\n  },\r\n  computed: {\r\n    showLoading() {\r\n      return !this.noLoading && (this.loading_ || this.loading)\r\n    }\r\n  },\r\n  methods: {\r\n    /** 提交 */\r\n    submit() {\r\n      this.validate(() => {\r\n        this.openLoading()\r\n        this.action(this.model)\r\n          .then(data => {\r\n            if (this.successMsg === true) {\r\n              this._success(this.successMsgText)\r\n            }\r\n            this.$emit('success', data)\r\n          })\r\n          .catch(() => {\r\n            this.$emit('error')\r\n          })\r\n          .finally(() => {\r\n            this.closeLoading()\r\n          })\r\n      })\r\n    },\r\n    /** 表单验证 */\r\n    validate(callback) {\r\n      this.$refs.form.validate(async valid => {\r\n        // 自定义验证\r\n        if (valid && (!this.customValidate || this.customValidate() === true)) {\r\n          callback()\r\n        } else {\r\n          // 验证失败\r\n          this.$emit('validate-error')\r\n        }\r\n      })\r\n    },\r\n    /** 重置 */\r\n    reset() {\r\n      if (this.customResetFunction) {\r\n        this.customResetFunction()\r\n      } else {\r\n        this.$refs.form.resetFields()\r\n        this.resetChildren(this.$refs.form)\r\n      }\r\n      this.$emit('reset')\r\n    },\r\n    /** 重置子组件 */\r\n    resetChildren(vnode) {\r\n      if (vnode.$children && vnode.$children.length > 0) {\r\n        vnode.$children.forEach(item => {\r\n          if (item && item.reset && typeof item.reset === 'function') {\r\n            item.reset()\r\n          }\r\n          this.resetChildren(item)\r\n        })\r\n      }\r\n    },\r\n    /** 清除验证结果 */\r\n    clearValidate(props) {\r\n      this.$refs.form.clearValidate(props)\r\n    },\r\n    /** 打开加载中 */\r\n    openLoading() {\r\n      if (!this.noLoading) {\r\n        this.loading_ = true\r\n      }\r\n    },\r\n    /** 关闭加载中 */\r\n    closeLoading() {\r\n      if (!this.noLoading) {\r\n        this.loading_ = false\r\n      }\r\n    },\r\n    onValidate(prop, valid, msg) {\r\n      this.$emit('validate', prop, valid, msg)\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}