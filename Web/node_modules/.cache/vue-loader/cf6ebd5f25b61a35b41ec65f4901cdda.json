{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\components\\file-download\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\components\\file-download\\index.vue","mtime":1706623138788},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgLyoqIOaWh+S7tumTvuaOpSAqLw0KICAgIHVybDogU3RyaW5nLA0KICAgIC8qKiDnp4HmnInnmoQgKi8NCiAgICBwcml2YXRlOiBCb29sZWFuLA0KICAgIC8qKiDmlofku7blkI3np7AgKi8NCiAgICBmaWxlTmFtZTogU3RyaW5nLA0KICAgIC8qKiDlsLrlr7jvvIzpu5jorqTmjInnhafmoYbmnrbnmoTlrZflj7forr7nva4gKi8NCiAgICBzaXplOiBTdHJpbmcsDQogICAgLyoqIOexu+WeiyBwcmltYXJ5L3N1Y2Nlc3Mvd2FybmluZy9kYW5nZXIvaW5mby90ZXh0ICovDQogICAgdHlwZTogU3RyaW5nLA0KICAgIC8qKiDmmK/lkKbmnLTntKDmjInpkq4gKi8NCiAgICBwbGFpbjogQm9vbGVhbiwNCiAgICAvKiog5piv5ZCm5ZyG6KeS5oyJ6ZKuICovDQogICAgcm91bmQ6IEJvb2xlYW4sDQogICAgLyoqIOaYr+WQpuWchuW9ouaMiemSriAqLw0KICAgIGNpcmNsZTogQm9vbGVhbiwNCiAgICAvKiog5piv5ZCm5Yqg6L295Lit54q25oCBICovDQogICAgbG9hZGluZzogQm9vbGVhbiwNCiAgICAvKiog5piv5ZCm56aB55So54q25oCBICovDQogICAgZGlzYWJsZWQ6IEJvb2xlYW4sDQogICAgLyoqIOaYr+WQpum7mOiupOiBmueEpiAqLw0KICAgIGF1dG9mb2N1czogQm9vbGVhbiwNCiAgICAvKiog5Y6f55SfIHR5cGUg5bGe5oCnIGJ1dHRvbi9zdWJtaXQvcmVzZXQgKi8NCiAgICBuYXRpdmVUeXBlOiBTdHJpbmcsDQogICAgLyoqIOWbvuaghyAqLw0KICAgIGljb246IFN0cmluZywNCiAgICAvLyDmlofmnKwNCiAgICB0ZXh0OiBTdHJpbmcsDQogICAgLy8g5oyJ6ZKu57yW56CB77yM55So5LqO5oyJ6ZKu5p2D6ZmQ5o6n5Yi2DQogICAgY29kZTogU3RyaW5nDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvbkNsaWNrKCkgew0KICAgICAgaWYgKHRoaXMudXJsKSB7DQogICAgICAgIGlmICh0aGlzLnByaXZhdGUpIHsNCiAgICAgICAgICAkYXBpLmFkbWluLmZpbGUuZG93bmxvYWQodGhpcy51cmwpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy/pgJrov4fmqKHmi59h5qCH562+54K55Ye75LqL5Lu25LiL6L295paH5Lu2DQogICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQ0KICAgICAgICAgIGxpbmsuaHJlZiA9IHRoaXMudXJsDQogICAgICAgICAgbGV0IGZpbGVOYW1lID0gdGhpcy5maWxlTmFtZQ0KICAgICAgICAgIGlmICghZmlsZU5hbWUpIHsNCiAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLnVybC5zcGxpdCgnLycpDQogICAgICAgICAgICBmaWxlTmFtZSA9IGFyclthcnIubGVuZ3RoIC0gMV0NCiAgICAgICAgICB9DQogICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZU5hbWUpDQogICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKQ0KICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluaykNCiAgICAgICAgICBsaW5rLmNsaWNrKCkNCiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJykNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-module-admin/src/components/file-download","sourcesContent":["<template>\r\n  <el-button\r\n    class=\"nm-button nm-file-download\"\r\n    :type=\"type\"\r\n    :size=\"size || fontSize\"\r\n    :plain=\"plain\"\r\n    :round=\"round\"\r\n    :circle=\"circle\"\r\n    :loading=\"loading\"\r\n    :disabled=\"disabled\"\r\n    :autofocus=\"autofocus\"\r\n    :native-type=\"nativeType\"\r\n    v-nm-has=\"code\"\r\n    @click=\"onClick\"\r\n  >\r\n    <nm-icon v-if=\"!loading && icon\" :name=\"icon\" />\r\n    <slot>\r\n      <span v-if=\"!circle && text\" class=\"nm-button-text\" v-html=\"text\" />\r\n    </slot>\r\n  </el-button>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    /** 文件链接 */\r\n    url: String,\r\n    /** 私有的 */\r\n    private: Boolean,\r\n    /** 文件名称 */\r\n    fileName: String,\r\n    /** 尺寸，默认按照框架的字号设置 */\r\n    size: String,\r\n    /** 类型 primary/success/warning/danger/info/text */\r\n    type: String,\r\n    /** 是否朴素按钮 */\r\n    plain: Boolean,\r\n    /** 是否圆角按钮 */\r\n    round: Boolean,\r\n    /** 是否圆形按钮 */\r\n    circle: Boolean,\r\n    /** 是否加载中状态 */\r\n    loading: Boolean,\r\n    /** 是否禁用状态 */\r\n    disabled: Boolean,\r\n    /** 是否默认聚焦 */\r\n    autofocus: Boolean,\r\n    /** 原生 type 属性 button/submit/reset */\r\n    nativeType: String,\r\n    /** 图标 */\r\n    icon: String,\r\n    // 文本\r\n    text: String,\r\n    // 按钮编码，用于按钮权限控制\r\n    code: String\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      if (this.url) {\r\n        if (this.private) {\r\n          $api.admin.file.download(this.url)\r\n        } else {\r\n          //通过模拟a标签点击事件下载文件\r\n          const link = document.createElement('a')\r\n          link.href = this.url\r\n          let fileName = this.fileName\r\n          if (!fileName) {\r\n            let arr = this.url.split('/')\r\n            fileName = arr[arr.length - 1]\r\n          }\r\n          link.setAttribute('download', fileName)\r\n          link.setAttribute('target', '_blank')\r\n          document.body.appendChild(link)\r\n          link.click()\r\n          document.body.removeChild(link)\r\n        }\r\n      }\r\n      this.$emit('click')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}