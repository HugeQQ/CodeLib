{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\views\\menu\\components\\edit\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-module-admin\\src\\views\\menu\\components\\edit\\index.vue","mtime":1706623138825},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtaXhpbnMgfSBmcm9tICduZXRtb2R1bGFyLXVpJw0KaW1wb3J0IE5vZGVNZW51IGZyb20gJy4vY29tcG9uZW50cy9ub2RlJw0KaW1wb3J0IFJvdXRlTWVudSBmcm9tICcuL2NvbXBvbmVudHMvcm91dGUnDQppbXBvcnQgTGlua01lbnUgZnJvbSAnLi9jb21wb25lbnRzL2xpbmsnDQoNCmNvbnN0IGFwaSA9ICRhcGkuYWRtaW4ubWVudQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1peGluczogW21peGlucy5kaWFsb2ddLA0KICBjb21wb25lbnRzOiB7IE5vZGVNZW51LCBSb3V0ZU1lbnUsIExpbmtNZW51IH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1vZGVsOiB7DQogICAgICAgIHR5cGU6IDANCiAgICAgIH0sDQogICAgICBkaWFsb2c6IHsNCiAgICAgICAgZm9vdGVyOiB0cnVlLA0KICAgICAgICB0aXRsZTogJ+e8lui+keiPnOWNlScsDQogICAgICAgIGljb246ICdhZGQnLA0KICAgICAgICB3aWR0aDogJzYwJScsDQogICAgICAgIGNsYXNzOiAnbm0tYWRtaW4tbWVudS1lZGl0JywNCiAgICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAgIGRyYWdnYWJsZTogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIG9uOiB7DQogICAgICAgIHN1Y2Nlc3M6IHRoaXMub25TdWNjZXNzLA0KICAgICAgICBlcnJvcjogdGhpcy5vbkVycm9yLA0KICAgICAgICAndmFsaWRhdGUtZXJyb3InOiB0aGlzLm9uVmFsaWRhdGVFcnJvcg0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IFsncGFyZW50JywgJ2lkJ10sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBlZGl0KCkgew0KICAgICAgaWYgKHRoaXMuaWQgPT09ICcnKSB7DQogICAgICAgIHRoaXMuX3dhcm5pbmcoJ+ivt+mAieaLqeimgee8lui+keeahOiPnOWNlX4nKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgdGhpcy5kaWFsb2cubG9hZGluZyA9IHRydWUNCiAgICAgIHRoaXMubW9kZWwgPSBhd2FpdCBhcGkuZWRpdCh0aGlzLmlkKQ0KICAgICAgdGhpcy5zZXRNb2RlbCgpDQogICAgICB0aGlzLmRpYWxvZy5sb2FkaW5nID0gZmFsc2UNCiAgICB9LA0KICAgIG9uT3BlbigpIHsNCiAgICAgIHRoaXMuZWRpdCgpDQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIHRoaXMuZGlhbG9nLmxvYWRpbmcgPSB0cnVlDQogICAgICB0aGlzLmdldE1vZGVsKCkuc3VibWl0KCkNCiAgICB9LA0KICAgIG9uUmVzZXQoKSB7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5yZXNldCgpDQogICAgICB9KQ0KICAgIH0sDQogICAgb25TdWNjZXNzKG1vZGVsKSB7DQogICAgICB0aGlzLmRpYWxvZy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnLCBtb2RlbCkNCiAgICB9LA0KICAgIG9uRXJyb3IoKSB7DQogICAgICB0aGlzLmRpYWxvZy5sb2FkaW5nID0gZmFsc2UNCiAgICB9LA0KICAgIG9uVmFsaWRhdGVFcnJvcigpIHsNCiAgICAgIHRoaXMuZGlhbG9nLmxvYWRpbmcgPSBmYWxzZQ0KICAgIH0sDQogICAgc2V0TW9kZWwoKSB7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXRNb2RlbCgpDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0TW9kZWwoKSB7DQogICAgICBpZiAodGhpcy5tb2RlbC50eXBlID09PSAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRyZWZzLm5vZGUNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlbC50eXBlID09PSAxKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRyZWZzLnJvdXRlDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy5saW5rDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAYA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-module-admin/src/views/menu/components/edit","sourcesContent":["<template>\r\n  <nm-dialog v-bind=\"dialog\" @open=\"onOpen\" :visible.sync=\"visible_\">\r\n    <node-menu ref=\"node\" v-if=\"model.type === 0\" :model=\"model\" :parent=\"parent\" v-on=\"on\" />\r\n    <route-menu ref=\"route\" v-else-if=\"model.type === 1\" :model=\"model\" :parent=\"parent\" v-on=\"on\" />\r\n    <link-menu ref=\"link\" v-else :model=\"model\" :parent=\"parent\" v-on=\"on\" />\r\n    <template v-slot:footer>\r\n      <nm-button text=\"保存\" type=\"success\" @click=\"onSubmit\" />\r\n      <nm-button text=\"重置\" type=\"info\" @click=\"onReset\" />\r\n    </template>\r\n  </nm-dialog>\r\n</template>\r\n<script>\r\nimport { mixins } from 'netmodular-ui'\r\nimport NodeMenu from './components/node'\r\nimport RouteMenu from './components/route'\r\nimport LinkMenu from './components/link'\r\n\r\nconst api = $api.admin.menu\r\n\r\nexport default {\r\n  mixins: [mixins.dialog],\r\n  components: { NodeMenu, RouteMenu, LinkMenu },\r\n  data() {\r\n    return {\r\n      model: {\r\n        type: 0\r\n      },\r\n      dialog: {\r\n        footer: true,\r\n        title: '编辑菜单',\r\n        icon: 'add',\r\n        width: '60%',\r\n        class: 'nm-admin-menu-edit',\r\n        loading: false,\r\n        draggable: true\r\n      },\r\n      on: {\r\n        success: this.onSuccess,\r\n        error: this.onError,\r\n        'validate-error': this.onValidateError\r\n      }\r\n    }\r\n  },\r\n  props: ['parent', 'id'],\r\n  methods: {\r\n    async edit() {\r\n      if (this.id === '') {\r\n        this._warning('请选择要编辑的菜单~')\r\n        return\r\n      }\r\n\r\n      this.dialog.loading = true\r\n      this.model = await api.edit(this.id)\r\n      this.setModel()\r\n      this.dialog.loading = false\r\n    },\r\n    onOpen() {\r\n      this.edit()\r\n    },\r\n    onSubmit() {\r\n      this.dialog.loading = true\r\n      this.getModel().submit()\r\n    },\r\n    onReset() {\r\n      this.$nextTick(() => {\r\n        this.getModel().reset()\r\n      })\r\n    },\r\n    onSuccess(model) {\r\n      this.dialog.loading = false\r\n      this.$emit('success', model)\r\n    },\r\n    onError() {\r\n      this.dialog.loading = false\r\n    },\r\n    onValidateError() {\r\n      this.dialog.loading = false\r\n    },\r\n    setModel() {\r\n      this.$nextTick(() => {\r\n        this.getModel().setModel()\r\n      })\r\n    },\r\n    getModel() {\r\n      if (this.model.type === 0) {\r\n        return this.$refs.node\r\n      } else if (this.model.type === 1) {\r\n        return this.$refs.route\r\n      } else {\r\n        return this.$refs.link\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}