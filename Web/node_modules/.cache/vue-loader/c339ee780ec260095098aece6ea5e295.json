{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\split\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\split\\index.vue","mtime":1706623144448},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovLyDku45pVmlld+i/geenuw0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IFRyaWdnZXIgZnJvbSAnLi90cmlnZ2VyLnZ1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1NwbGl0JywNCiAgY29tcG9uZW50czogew0KICAgIFRyaWdnZXINCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwNCiAgICAgIGRlZmF1bHQ6IDAuNQ0KICAgIH0sDQogICAgbW9kZTogew0KICAgICAgdmFsaWRhdG9yKHZhbHVlKSB7DQogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ2hvcml6b250YWwnIHx8IHZhbHVlID09PSAndmVydGljYWwnDQogICAgICB9LA0KICAgICAgZGVmYXVsdDogJ2hvcml6b250YWwnDQogICAgfSwNCiAgICBtaW46IHsNCiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sDQogICAgICBkZWZhdWx0OiAnNDBweCcNCiAgICB9LA0KICAgIG1heDogew0KICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwNCiAgICAgIGRlZmF1bHQ6ICc0MHB4Jw0KICAgIH0sDQogICAgLyoqIGxvYWRpbmcgKi8NCiAgICBsb2FkaW5nOiBCb29sZWFuDQogIH0sDQogIC8qKg0KICAgKiBFdmVudHMNCiAgICogQG9uLW1vdmUtc3RhcnQNCiAgICogQG9uLW1vdmluZyDov5Tlm57lgLzvvJrkuovku7blr7nosaHvvIzkvYbmmK/lnKjkuovku7blr7nosaHkuK3liqDlhaXkuobkuKTkuKrlj4LmlbDvvJphdE1pbijlvZPliY3mmK/lkKblnKjmnIDlsI/lgLzlpIQpLCBhdE1heCjlvZPliY3mmK/lkKblnKjmnIDlpKflgLzlpIQpDQogICAqIEBvbi1tb3ZlLWVuZA0KICAgKi8NCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcHJlZml4OiAnbm0tc3BsaXQnLA0KICAgICAgb2Zmc2V0OiAwLA0KICAgICAgb2xkT2Zmc2V0OiAwLA0KICAgICAgaXNNb3Zpbmc6IGZhbHNlDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKCdhcHAvbG9hZGluZycsIHsgbG9hZGluZ1RleHQ6ICd0ZXh0JywgbG9hZGluZ0JhY2tncm91bmQ6ICdiYWNrZ3JvdW5kJywgbG9hZGluZ1NwaW5uZXI6ICdzcGlubmVyJyB9KSwNCiAgICB3cmFwcGVyQ2xhc3NlcygpIHsNCiAgICAgIHJldHVybiBbYCR7dGhpcy5wcmVmaXh9LXdyYXBwZXJgLCB0aGlzLmlzTW92aW5nID8gJ25vLXNlbGVjdCcgOiAnJ10NCiAgICB9LA0KICAgIHBhbmVDbGFzc2VzKCkgew0KICAgICAgcmV0dXJuIFsNCiAgICAgICAgYCR7dGhpcy5wcmVmaXh9LXBhbmVgLA0KICAgICAgICB7DQogICAgICAgICAgW2Ake3RoaXMucHJlZml4fS1wYW5lLW1vdmluZ2BdOiB0aGlzLmlzTW92aW5nDQogICAgICAgIH0NCiAgICAgIF0NCiAgICB9LA0KICAgIGlzSG9yaXpvbnRhbCgpIHsNCiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICdob3Jpem9udGFsJw0KICAgIH0sDQogICAgYW5vdGhlck9mZnNldCgpIHsNCiAgICAgIHJldHVybiAxMDAgLSB0aGlzLm9mZnNldA0KICAgIH0sDQogICAgdmFsdWVJc1B4KCkgew0KICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnZhbHVlID09PSAnc3RyaW5nJw0KICAgIH0sDQogICAgb2Zmc2V0U2l6ZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmlzSG9yaXpvbnRhbCA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0Jw0KICAgIH0sDQogICAgY29tcHV0ZWRNaW4oKSB7DQogICAgICByZXR1cm4gdGhpcy5nZXRDb21wdXRlZFRocmVzaG9sZFZhbHVlKCdtaW4nKQ0KICAgIH0sDQogICAgY29tcHV0ZWRNYXgoKSB7DQogICAgICByZXR1cm4gdGhpcy5nZXRDb21wdXRlZFRocmVzaG9sZFZhbHVlKCdtYXgnKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHB4MnBlcmNlbnQobnVtZXJhdG9yLCBkZW5vbWluYXRvcikgew0KICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobnVtZXJhdG9yKSAvIHBhcnNlRmxvYXQoZGVub21pbmF0b3IpDQogICAgfSwNCiAgICBnZXRDb21wdXRlZFRocmVzaG9sZFZhbHVlKHR5cGUpIHsNCiAgICAgIGxldCBzaXplID0gdGhpcy4kcmVmcy5vdXRlcldyYXBwZXJbdGhpcy5vZmZzZXRTaXplXQ0KICAgICAgaWYgKHRoaXMudmFsdWVJc1B4KSByZXR1cm4gdHlwZW9mIHRoaXNbdHlwZV0gPT09ICdzdHJpbmcnID8gdGhpc1t0eXBlXSA6IHNpemUgKiB0aGlzW3R5cGVdDQogICAgICBlbHNlIHJldHVybiB0eXBlb2YgdGhpc1t0eXBlXSA9PT0gJ3N0cmluZycgPyB0aGlzLnB4MnBlcmNlbnQodGhpc1t0eXBlXSwgc2l6ZSkgOiB0aGlzW3R5cGVdDQogICAgfSwNCiAgICBnZXRNaW4odmFsdWUxLCB2YWx1ZTIpIHsNCiAgICAgIGlmICh0aGlzLnZhbHVlSXNQeCkgcmV0dXJuIGAke01hdGgubWluKHBhcnNlRmxvYXQodmFsdWUxKSwgcGFyc2VGbG9hdCh2YWx1ZTIpKX1weGANCiAgICAgIGVsc2UgcmV0dXJuIE1hdGgubWluKHZhbHVlMSwgdmFsdWUyKQ0KICAgIH0sDQogICAgZ2V0TWF4KHZhbHVlMSwgdmFsdWUyKSB7DQogICAgICBpZiAodGhpcy52YWx1ZUlzUHgpIHJldHVybiBgJHtNYXRoLm1heChwYXJzZUZsb2F0KHZhbHVlMSksIHBhcnNlRmxvYXQodmFsdWUyKSl9cHhgDQogICAgICBlbHNlIHJldHVybiBNYXRoLm1heCh2YWx1ZTEsIHZhbHVlMikNCiAgICB9LA0KICAgIGdldEFub3RoZXJPZmZzZXQodmFsdWUpIHsNCiAgICAgIGxldCByZXMgPSAwDQogICAgICBpZiAodGhpcy52YWx1ZUlzUHgpIHJlcyA9IGAke3RoaXMuJHJlZnMub3V0ZXJXcmFwcGVyW3RoaXMub2Zmc2V0U2l6ZV0gLSBwYXJzZUZsb2F0KHZhbHVlKX1weGANCiAgICAgIGVsc2UgcmVzID0gMSAtIHZhbHVlDQogICAgICByZXR1cm4gcmVzDQogICAgfSwNCiAgICBoYW5kbGVNb3ZlKGUpIHsNCiAgICAgIGxldCBwYWdlT2Zmc2V0ID0gdGhpcy5pc0hvcml6b250YWwgPyBlLnBhZ2VYIDogZS5wYWdlWQ0KICAgICAgbGV0IG9mZnNldCA9IHBhZ2VPZmZzZXQgLSB0aGlzLmluaXRPZmZzZXQNCiAgICAgIGxldCBvdXRlcldpZHRoID0gdGhpcy4kcmVmcy5vdXRlcldyYXBwZXJbdGhpcy5vZmZzZXRTaXplXQ0KICAgICAgbGV0IHZhbHVlID0gdGhpcy52YWx1ZUlzUHggPyBgJHtwYXJzZUZsb2F0KHRoaXMub2xkT2Zmc2V0KSArIG9mZnNldH1weGAgOiB0aGlzLnB4MnBlcmNlbnQob3V0ZXJXaWR0aCAqIHRoaXMub2xkT2Zmc2V0ICsgb2Zmc2V0LCBvdXRlcldpZHRoKQ0KICAgICAgbGV0IGFub3RoZXJWYWx1ZSA9IHRoaXMuZ2V0QW5vdGhlck9mZnNldCh2YWx1ZSkNCiAgICAgIGlmIChwYXJzZUZsb2F0KHZhbHVlKSA8PSBwYXJzZUZsb2F0KHRoaXMuY29tcHV0ZWRNaW4pKSB2YWx1ZSA9IHRoaXMuZ2V0TWF4KHZhbHVlLCB0aGlzLmNvbXB1dGVkTWluKQ0KICAgICAgaWYgKHBhcnNlRmxvYXQoYW5vdGhlclZhbHVlKSA8PSBwYXJzZUZsb2F0KHRoaXMuY29tcHV0ZWRNYXgpKSB2YWx1ZSA9IHRoaXMuZ2V0QW5vdGhlck9mZnNldCh0aGlzLmdldE1heChhbm90aGVyVmFsdWUsIHRoaXMuY29tcHV0ZWRNYXgpKQ0KICAgICAgZS5hdE1pbiA9IHRoaXMudmFsdWUgPT09IHRoaXMuY29tcHV0ZWRNaW4NCiAgICAgIGUuYXRNYXggPSB0aGlzLnZhbHVlSXNQeCA/IHRoaXMuZ2V0QW5vdGhlck9mZnNldCh0aGlzLnZhbHVlKSA9PT0gdGhpcy5jb21wdXRlZE1heCA6IHRoaXMuZ2V0QW5vdGhlck9mZnNldCh0aGlzLnZhbHVlKS50b0ZpeGVkKDUpID09PSB0aGlzLmNvbXB1dGVkTWF4LnRvRml4ZWQoNSkNCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWUpDQogICAgICB0aGlzLiRlbWl0KCdvbi1tb3ZpbmcnLCBlKQ0KICAgIH0sDQogICAgaGFuZGxlVXAoKSB7DQogICAgICB0aGlzLmlzTW92aW5nID0gZmFsc2UNCiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW92ZSwgZmFsc2UpDQogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVVcCwgZmFsc2UpDQogICAgICB0aGlzLiRlbWl0KCdvbi1tb3ZlLWVuZCcpDQogICAgfSwNCiAgICBoYW5kbGVNb3VzZWRvd24oZSkgew0KICAgICAgdGhpcy5pbml0T2Zmc2V0ID0gdGhpcy5pc0hvcml6b250YWwgPyBlLnBhZ2VYIDogZS5wYWdlWQ0KICAgICAgdGhpcy5vbGRPZmZzZXQgPSB0aGlzLnZhbHVlDQogICAgICB0aGlzLmlzTW92aW5nID0gdHJ1ZQ0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3ZlLCBmYWxzZSkNCiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZVVwLCBmYWxzZSkNCiAgICAgIHRoaXMuJGVtaXQoJ29uLW1vdmUtc3RhcnQnKQ0KICAgIH0sDQogICAgY29tcHV0ZU9mZnNldCgpIHsNCiAgICAgIHRoaXMub2Zmc2V0ID0gKCh0aGlzLnZhbHVlSXNQeCA/IHRoaXMucHgycGVyY2VudCh0aGlzLnZhbHVlLCB0aGlzLiRyZWZzLm91dGVyV3JhcHBlclt0aGlzLm9mZnNldFNpemVdKSA6IHRoaXMudmFsdWUpICogMTAwMDApIC8gMTAwDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHZhbHVlKCkgew0KICAgICAgdGhpcy5jb21wdXRlT2Zmc2V0KCkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy5jb21wdXRlT2Zmc2V0KCkNCiAgICB9KQ0KDQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHsNCiAgICAgIHRoaXMuY29tcHV0ZU9mZnNldCgpDQogICAgfSkNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-ui/packages/components/split","sourcesContent":["<template>\r\n  <div ref=\"outerWrapper\" :class=\"wrapperClasses\" v-loading=\"loading\" :element-loading-text=\"loadingText\" :element-loading-background=\"loadingBackground\" :element-loading-spinner=\"loadingSpinner\">\r\n    <div v-if=\"isHorizontal\" :class=\"`${prefix}-horizontal`\">\r\n      <div :style=\"{ right: `${anotherOffset}%` }\" class=\"left-pane\" :class=\"paneClasses\">\r\n        <slot name=\"left\" />\r\n      </div>\r\n      <div :class=\"`${prefix}-trigger-con`\" :style=\"{ left: `${offset}%` }\" @mousedown=\"handleMousedown\">\r\n        <slot name=\"trigger\">\r\n          <trigger mode=\"vertical\" />\r\n        </slot>\r\n      </div>\r\n      <div :style=\"{ left: `${offset}%` }\" class=\"right-pane\" :class=\"paneClasses\">\r\n        <slot name=\"right\" />\r\n      </div>\r\n    </div>\r\n    <div v-else :class=\"`${prefix}-vertical`\">\r\n      <div :style=\"{ bottom: `${anotherOffset}%` }\" class=\"top-pane\" :class=\"paneClasses\">\r\n        <slot name=\"top\" />\r\n      </div>\r\n      <div :class=\"`${prefix}-trigger-con`\" :style=\"{ top: `${offset}%` }\" @mousedown=\"handleMousedown\">\r\n        <slot name=\"trigger\">\r\n          <trigger mode=\"horizontal\" />\r\n        </slot>\r\n      </div>\r\n      <div :style=\"{ top: `${offset}%` }\" class=\"bottom-pane\" :class=\"paneClasses\">\r\n        <slot name=\"bottom\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 从iView迁移\r\nimport { mapState } from 'vuex'\r\nimport Trigger from './trigger.vue'\r\nexport default {\r\n  name: 'Split',\r\n  components: {\r\n    Trigger\r\n  },\r\n  props: {\r\n    value: {\r\n      type: [Number, String],\r\n      default: 0.5\r\n    },\r\n    mode: {\r\n      validator(value) {\r\n        return value === 'horizontal' || value === 'vertical'\r\n      },\r\n      default: 'horizontal'\r\n    },\r\n    min: {\r\n      type: [Number, String],\r\n      default: '40px'\r\n    },\r\n    max: {\r\n      type: [Number, String],\r\n      default: '40px'\r\n    },\r\n    /** loading */\r\n    loading: Boolean\r\n  },\r\n  /**\r\n   * Events\r\n   * @on-move-start\r\n   * @on-moving 返回值：事件对象，但是在事件对象中加入了两个参数：atMin(当前是否在最小值处), atMax(当前是否在最大值处)\r\n   * @on-move-end\r\n   */\r\n  data() {\r\n    return {\r\n      prefix: 'nm-split',\r\n      offset: 0,\r\n      oldOffset: 0,\r\n      isMoving: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('app/loading', { loadingText: 'text', loadingBackground: 'background', loadingSpinner: 'spinner' }),\r\n    wrapperClasses() {\r\n      return [`${this.prefix}-wrapper`, this.isMoving ? 'no-select' : '']\r\n    },\r\n    paneClasses() {\r\n      return [\r\n        `${this.prefix}-pane`,\r\n        {\r\n          [`${this.prefix}-pane-moving`]: this.isMoving\r\n        }\r\n      ]\r\n    },\r\n    isHorizontal() {\r\n      return this.mode === 'horizontal'\r\n    },\r\n    anotherOffset() {\r\n      return 100 - this.offset\r\n    },\r\n    valueIsPx() {\r\n      return typeof this.value === 'string'\r\n    },\r\n    offsetSize() {\r\n      return this.isHorizontal ? 'offsetWidth' : 'offsetHeight'\r\n    },\r\n    computedMin() {\r\n      return this.getComputedThresholdValue('min')\r\n    },\r\n    computedMax() {\r\n      return this.getComputedThresholdValue('max')\r\n    }\r\n  },\r\n  methods: {\r\n    px2percent(numerator, denominator) {\r\n      return parseFloat(numerator) / parseFloat(denominator)\r\n    },\r\n    getComputedThresholdValue(type) {\r\n      let size = this.$refs.outerWrapper[this.offsetSize]\r\n      if (this.valueIsPx) return typeof this[type] === 'string' ? this[type] : size * this[type]\r\n      else return typeof this[type] === 'string' ? this.px2percent(this[type], size) : this[type]\r\n    },\r\n    getMin(value1, value2) {\r\n      if (this.valueIsPx) return `${Math.min(parseFloat(value1), parseFloat(value2))}px`\r\n      else return Math.min(value1, value2)\r\n    },\r\n    getMax(value1, value2) {\r\n      if (this.valueIsPx) return `${Math.max(parseFloat(value1), parseFloat(value2))}px`\r\n      else return Math.max(value1, value2)\r\n    },\r\n    getAnotherOffset(value) {\r\n      let res = 0\r\n      if (this.valueIsPx) res = `${this.$refs.outerWrapper[this.offsetSize] - parseFloat(value)}px`\r\n      else res = 1 - value\r\n      return res\r\n    },\r\n    handleMove(e) {\r\n      let pageOffset = this.isHorizontal ? e.pageX : e.pageY\r\n      let offset = pageOffset - this.initOffset\r\n      let outerWidth = this.$refs.outerWrapper[this.offsetSize]\r\n      let value = this.valueIsPx ? `${parseFloat(this.oldOffset) + offset}px` : this.px2percent(outerWidth * this.oldOffset + offset, outerWidth)\r\n      let anotherValue = this.getAnotherOffset(value)\r\n      if (parseFloat(value) <= parseFloat(this.computedMin)) value = this.getMax(value, this.computedMin)\r\n      if (parseFloat(anotherValue) <= parseFloat(this.computedMax)) value = this.getAnotherOffset(this.getMax(anotherValue, this.computedMax))\r\n      e.atMin = this.value === this.computedMin\r\n      e.atMax = this.valueIsPx ? this.getAnotherOffset(this.value) === this.computedMax : this.getAnotherOffset(this.value).toFixed(5) === this.computedMax.toFixed(5)\r\n      this.$emit('input', value)\r\n      this.$emit('on-moving', e)\r\n    },\r\n    handleUp() {\r\n      this.isMoving = false\r\n      document.removeEventListener('mousemove', this.handleMove, false)\r\n      document.removeEventListener('mouseup', this.handleUp, false)\r\n      this.$emit('on-move-end')\r\n    },\r\n    handleMousedown(e) {\r\n      this.initOffset = this.isHorizontal ? e.pageX : e.pageY\r\n      this.oldOffset = this.value\r\n      this.isMoving = true\r\n      document.addEventListener('mousemove', this.handleMove, false)\r\n      document.addEventListener('mouseup', this.handleUp, false)\r\n      this.$emit('on-move-start')\r\n    },\r\n    computeOffset() {\r\n      this.offset = ((this.valueIsPx ? this.px2percent(this.value, this.$refs.outerWrapper[this.offsetSize]) : this.value) * 10000) / 100\r\n    }\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.computeOffset()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.computeOffset()\r\n    })\r\n\r\n    window.addEventListener('resize', () => {\r\n      this.computeOffset()\r\n    })\r\n  }\r\n}\r\n</script>\r\n"]}]}