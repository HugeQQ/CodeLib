{"remainingRequest":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\details\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\netmodular-ui\\packages\\components\\details\\index.vue","mtime":1706623144410},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\babel-loader\\lib\\index.js","mtime":1706623138119},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1706623138253},{"path":"E:\\NetModular.CodeGenerator\\src\\UI\\module-codegenerator\\node_modules\\vue-loader\\lib\\index.js","mtime":1706623133543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdEZXRhaWxzJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbW9kZWxfOiB7fSwNCiAgICAgIGxvYWRpbmdfOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICAvLyDmn6Xor6Lmlrnms5UNCiAgICBhY3Rpb246IEZ1bmN0aW9uLA0KICAgIC8vIOaooeWei+aVsOaNrg0KICAgIG1vZGVsOiBPYmplY3QsDQogICAgLyoqIOmFjee9rumhuSAqLw0KICAgIG9wdGlvbnM6IEFycmF5LA0KICAgIC8qKiDmoIfnrb7nmoTlrr3luqYgKi8NCiAgICBsYWJlbFdpZHRoOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnODBweCcNCiAgICB9LA0KICAgIC8vIOS4jeaYvuekumxvYWRpbmcNCiAgICBub0xvYWRpbmc6IEJvb2xlYW4sDQogICAgLy8g5LiN5YyF5ZCr5aSW6L655qGGDQogICAgbm9Cb3JkZXI6IEJvb2xlYW4sDQogICAgLy8g5piv5ZCm5Yib5bu65pe25p+l6K+i5LiA5qyhDQogICAgcXVlcnlPbkNyZWF0ZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKCdhcHAvbG9hZGluZycsIHsgbG9hZGluZ1RleHQ6ICd0ZXh0JywgbG9hZGluZ0JhY2tncm91bmQ6ICdiYWNrZ3JvdW5kJywgbG9hZGluZ1NwaW5uZXI6ICdzcGlubmVyJyB9KSwNCiAgICBsb2FkaW5nKCkgew0KICAgICAgcmV0dXJuICF0aGlzLm5vTG9hZGluZyAmJiB0aGlzLmxvYWRpbmdfDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcXVlcnkoKSB7DQogICAgICBpZiAodGhpcy5hY3Rpb24gJiYgdHlwZW9mIHRoaXMuYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgIHRoaXMubG9hZGluZ18gPSB0cnVlDQogICAgICAgIHRoaXMuYWN0aW9uKCkNCiAgICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgIHRoaXMubW9kZWxfID0gZGF0YQ0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nXyA9IGZhbHNlDQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nXyA9IGZhbHNlDQogICAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlZnJlc2goKSB7DQogICAgICB0aGlzLnF1ZXJ5KCkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgaWYgKHRoaXMucXVlcnlPbkNyZWF0ZWQpIHsNCiAgICAgIHRoaXMucXVlcnkoKQ0KICAgIH0NCiAgICBpZiAodGhpcy5tb2RlbCkgew0KICAgICAgdGhpcy5tb2RlbF8gPSB0aGlzLm1vZGVsDQogICAgfQ0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgIC8vIOiuvue9ruagh+etvuWuveW6pg0KICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yQWxsKCcubm0tZGV0YWlscy1pdGVtLWxhYmVsJykNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaXRlbXNbaV0uc3R5bGUud2lkdGggPSB0aGlzLmxhYmVsV2lkdGgNCiAgICAgIH0NCiAgICB9KQ0KICB9LA0KICB3YXRjaDogew0KICAgIG1vZGVsKHZhbCkgew0KICAgICAgaWYgKHZhbCkgew0KICAgICAgICB0aGlzLm1vZGVsXyA9IHZhbA0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/netmodular-ui/packages/components/details","sourcesContent":["<template>\r\n  <section\r\n    ref=\"details\"\r\n    :class=\"['nm-details', noBorder ? 'no-border' : '']\"\r\n    v-loading=\"loading\"\r\n    :element-loading-text=\"loadingText\"\r\n    :element-loading-background=\"loadingBackground\"\r\n    :element-loading-spinner=\"loadingSpinner\"\r\n  >\r\n    <template v-if=\"model_\">\r\n      <template v-for=\"(group, i) in options\">\r\n        <div v-if=\"group.length > 0\" :class=\"['nm-details-group', `nm-details-group-${group.length}`]\" :key=\"i\">\r\n          <div class=\"nm-details-item\" v-for=\"(item, t) in group\" :key=\"t\">\r\n            <div class=\"nm-details-item-label\">\r\n              <slot :name=\"`label-${item.prop}`\" :model=\"model_\" :item=\"item\">{{ item.label }}</slot>\r\n            </div>\r\n            <div class=\"nm-details-item-content\">\r\n              <slot :name=\"`content-${item.prop}`\" :model=\"model_\" :item=\"item\">{{ model_[item.prop] }}</slot>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </template>\r\n  </section>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'Details',\r\n  data() {\r\n    return {\r\n      model_: {},\r\n      loading_: false\r\n    }\r\n  },\r\n  props: {\r\n    // 查询方法\r\n    action: Function,\r\n    // 模型数据\r\n    model: Object,\r\n    /** 配置项 */\r\n    options: Array,\r\n    /** 标签的宽度 */\r\n    labelWidth: {\r\n      type: String,\r\n      default: '80px'\r\n    },\r\n    // 不显示loading\r\n    noLoading: Boolean,\r\n    // 不包含外边框\r\n    noBorder: Boolean,\r\n    // 是否创建时查询一次\r\n    queryOnCreated: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('app/loading', { loadingText: 'text', loadingBackground: 'background', loadingSpinner: 'spinner' }),\r\n    loading() {\r\n      return !this.noLoading && this.loading_\r\n    }\r\n  },\r\n  methods: {\r\n    query() {\r\n      if (this.action && typeof this.action === 'function') {\r\n        this.loading_ = true\r\n        this.action()\r\n          .then(data => {\r\n            this.model_ = data\r\n            this.loading_ = false\r\n          })\r\n          .catch(() => {\r\n            this.loading_ = false\r\n          })\r\n      }\r\n    },\r\n    refresh() {\r\n      this.query()\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.queryOnCreated) {\r\n      this.query()\r\n    }\r\n    if (this.model) {\r\n      this.model_ = this.model\r\n    }\r\n    this.$nextTick(() => {\r\n      // 设置标签宽度\r\n      const items = this.$el.querySelectorAll('.nm-details-item-label')\r\n      for (let i = 0; i < items.length; i++) {\r\n        items[i].style.width = this.labelWidth\r\n      }\r\n    })\r\n  },\r\n  watch: {\r\n    model(val) {\r\n      if (val) {\r\n        this.model_ = val\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}